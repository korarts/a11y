---
description: ğŸ±â€ğŸ 06ì¥. ë¸Œë¼ìš°ì €ë§Œì˜ í‘œì¤€ê¸°ëŠ¥ë§Œìœ¼ë¡œ DnD(Drag & Drop)
---

# ğŸ¥‡ ğŸ±â€ğŸ 06ì¥. Drag & Drop

{% file src="../.gitbook/assets/06_DragNDrop.zip" %}
6ì¥.example
{% endfile %}

### ğŸ¯ Prologue > Pre-quiz

í•™ìŠµì„ ì‹œì‘í•˜ê¸°ì— ì•ì„œ, ì–¼ë§ˆë‚˜ ì•Œê³  ìˆëŠ”ì§€ í™•ì¸í•´ ë´…ì‹œë‹¤.

**Q1. HTML5ì—ì„œ Drag & Dropì€ ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ë‚˜ jQuery í”ŒëŸ¬ê·¸ì˜ APIë¥¼ ì´ìš©í•´ì„œë§Œ ì—°ë™ëœë‹¤.**

1. ì˜ˆ 2. ì•„ë‹ˆì˜¤

**Q2. dataTransfer ê°œì²´ëŠ” ë“œë˜ê·¸ì™€ ë“œë¡­ ì‹œì— ê°ì²´ê°„ì— í•„ìš”í•œ ë°ì´í„°ë¥¼ ì €ì¥í•˜ê³  í˜¸ì¶œí•˜ëŠ” ê¸°ëŠ¥ì„ ê°€ì§„ë‹¤.**

1. ì˜ˆ 2. ì•„ë‹ˆì˜¤

**Q3. DropEffectëŠ” ë“œë¡­ ìƒí˜¸ ì‘ìš©ì„ ì¸ì‹í•˜ëŠ” ìš”ì†Œì˜ ì‘ì—…ìœ í˜•ì„ ì„¤ì •í•œë‹¤.**

1. ì˜ˆ 2. ì•„ë‹ˆì˜¤

***

### ğŸ‘â€ğŸ—¨ í•™ìŠµëª©í‘œ

1. HTML5ì˜ Drag & Drop APIë¥¼ ì´í•´í•˜ê³  í™œìš©í•  ìˆ˜ ìˆë‹¤.
2. ì™¸ë¶€ë¦¬ì†ŒìŠ¤, ì´ë¯¸ì§€ ê·¸ë£¹í™” ë“±ì˜ ë‹¤ì–‘í•œ ê¸°ëŠ¥ì˜ Drag & Dropì„ í™œìš©í•  ìˆ˜ ìˆë‹¤.

### ğŸ’Œ í•™ìŠµë‚´ìš©

1. Drop & Drop(DnD)
2. ë‹¤ì–‘í•œ ê¸°ëŠ¥ì˜ Drop & Drop(DnD)

***

### 1. Drag & Dropì´ë€?

* Drag & Dropì€ ì›í•˜ëŠ” ì½˜í…ì¸  ì˜ì—­ì— ìˆëŠ” ê²ƒì„ ë‹¤ë¥¸ ì½˜í…ì¸  ì˜ì—­ìœ¼ë¡œ ëŒì–´ë‹¤ ë†“ëŠ” ê¸°ëŠ¥

#### í˜„ì¬ì˜ Drag & Drop

```
> í´ë¼ì´ì–¸íŠ¸ ì‘ìš©í”„ë¡œê·¸ë¨ì—ì„œ ì´ë²¤íŠ¸ ê¸°ëŠ¥ìœ¼ë¡œ êµ¬í˜„í•˜ê³  ê¸°ì¡´ì˜ ëŒ€ë¶€ë¶„ì˜ ë¸Œë¼ìš°ì €ëŠ” ì§€ì›í•˜ì§€ ì•ŠìŒ
> jQuery í”ŒëŸ¬ê·¸ì¸ ë“± ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì´ìš©í•´ì„œ ì›¹í˜ì´ì§€ì—ì„œëŠ” Drag & Dropì„ êµ¬í˜„í•¨
```

#### HTML5ì—ì„œ Drang & Drop

```
ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ë‚˜ jQuery í”ŒëŸ¬ê·¸ì¸ì— ì˜ì¡´í•˜ì§€ ì•Šê³  ë¸Œë¼ìš°ì €ì˜ í‘œì¤€ ê¸°ëŠ¥ ë§Œìœ¼ë¡œ êµ¬í˜„í•˜ë„ë¡ "Drag & Drop API"ë¥¼ ì •ì˜í•œ ê²ƒ
```

#### ì£¼ìš” ë¸Œë¼ìš°ì €ì—ì„œ Dnd API ì˜ êµ¬í˜„ìƒí™©

Internet Explorer 9 ì´ìƒ , Firefox 3.5 ì´ìƒ, Chrome 4 ì´ìƒ, Safari 6 ì´ìƒ, Opera 12 ì´ìƒ

#### Drag & Drop ì˜ ë‹¨ê³„

**1ë‹¨ê³„ : ë“œë˜ê·¸ì˜ êµ¬í˜„**

* ëŒ€ìƒì˜ ìš”ì†Œë¥¼ ëŒì–´ í—ˆìš©í•˜ëŠ” ê²ƒã…‡ëŠ ì†ì„± ê°’ìœ¼ë¡œ ì²˜ë¦¬í•˜ë©° html5ì—ì„œëŠ” ë“œë˜ê·¸ ì§€ì •ì„ draggable ì†ì„±ìœ¼ë¡œ ì§€ì •í•¨.
* draggable ì†ì„± ê°’ì€ true, false, ê°’ ì—†ìŒ ì¤‘ í•˜ë‚˜ë¥¼ ì§€ì •í•˜ë©°, ê¸°ë³¸ê°’ì€ ê°’ ì—†ìŒìœ¼ë¡œ ì§€ì •ë¨.

```html
<style>
div.draggable { width: 80px; height: 50px; }
div.droppable { width: 100px; height: 50px; }
</style>
<h1>textDnD</h1>
<div class="draggable" style="background-color: red">	
	<label id='apple' draggable="true" ondragstart="doDragStart(event);">ì‚¬ê³¼</label>	
</div>	
<hr>
<div OnDragOver="doDragOver (event);" ondrop="doDrop(event);" class="droppable" style="background-color: blue">ì—¬ê¸°ë¡œ ë“œë¡­!</div>
<script>
function init() {
	Array.prototype.contains = function(value) { //íŠ¹ì • ìš”ì†Œê°€ ìˆëŠ”ì§€ í™•ì¸
		for ( var i in this) {
			if (this[i] == value) {
				return true;
			}
		}
		return false;
	};
}
window.onload = init();

function doDragStart(event) {
	event.dataTransfer.setData('text/plain', event.target.id);
}

function doDragOver(event) {
	var type = event.dataTransfer.types.contains("text/plain");
	if (type) {
		event.preventDefault();
	}
}

function doDrop(event) {
	var data = event.dataTransfer.getData(" text/plain");
	event.target.textContent = data;
	event.target.style.cssText = "background-color : #ffffff";
}
</script>


//OtherView.html
<title>Drag &amp;Drop</title>
<script type="text/javascript">
	function onDrop(event) {
		event.target.innerHTML = "";
	    var types = event.dataTransfer.types;
	    if(types){
	        for(var i = 0; i < types.length;i++){
	            disp(event,types[i]);	             
	        }
	    } else {    
	        disp(event,"Text");
	        disp(event,"URL");
	    }
	    event.preventDefault();
	}
	function onDragOver(event) {
		event.preventDefault();
	}
	function disp(event,format){
	    try{ 
	        var data = event.dataTransfer.getData(format) ;	
	        event.target.innerHTML += format + ":\n";
	        event.target.innerHTML += data;
	        event.target.innerHTML += "\n\n";
	    } catch(err){
	        console.log(err);
	    }
	} 
</script>
	<div>
		<header>
			<div id="title">
				<h3>ë‹¤ë¥¸ ë¸Œë¼ìš°ì €ì˜ ë‚´ìš©ì„ ê°€ì ¸ì˜µë‹ˆë‹¤</h3>
			</div>
		</header>
		<section id="main">
	
			<div id="drop" 
				style="width: 500px; height: 500px; padding: 10px; border: 3px solid"
				ondragover="onDragOver(event)" ondrop="onDrop(event)"></div>
		</section>
		<footer> </footer>
	</div>
```

```html
<h3 id="app_status">ëª¨ì„ì„ í•˜ì‹¤ë¶„ì˜ ì´ë¦„ ëª©ë¡ì…ë‹ˆë‹¤.</h3>
<div ondrop="drag_drop(event)" ondragover="return false">ì´ë²ˆì£¼ ë“±ì‚°
	í•˜ì‹¤ë¶„ì˜ ì´ë¦„ì„ ì´ê³³ìœ¼ë¡œ ì´ë™ì‹œì¼œì£¼ì„¸ìš”</div>

<hr />
<div id="name1" draggable="true" ondragstart="drag_start(event)">
	[<img src="img/mi.jpg"> Member Name : â˜… Dominica_kim â˜… ]
</div>
<div id="name2" draggable="true" ondragstart="drag_start(event)">
	[<img src="img/mk.jpg"> Member Name : â˜… Dominico_Ji â˜… ]
</div>
<div id="name3" draggable="true" ondragstart="drag_start(event)">
	[<img src="img/duck.jpg"> Member Name : â˜… folio_seo â˜… ]
</div>
<script>
	function drag_start(event) {
		event.dataTransfer.dropEffect = 'move';
		event.dataTransfer.setData("text/plain", event.target
				.getAttribute('id'));
	}

	function drag_drop(event) {
		var element = event.dataTransfer.getData("Text");
		event.target.appendChild(document.getElementById(element));

		document.getElementById(element).removeAttribute("draggable");
	}
</script>
```

```html
<script>			
	function DragStart(event){
		var img = document.getElementById(event.target.id);
		event.dataTransfer.setData("text",event.target.id);
		if (event.dataTransfer.setDragImage){  event.dataTransfer.setDragImage(img,50,50); }
	}		
	function Drop(event){
		var id = event.dataTransfer.getData("text");
		var elm = document.getElementById(id);
		event.currentTarget.appendChild(elm);
		event.preventDefault();
	}			
	function DragOver(event){
		event.preventDefault();
	}
</script>
<div class="page">
	<header>
		<div id="title">
			<h1>ìƒìì˜ ìƒ‰ê¹”ëŒ€ë¡œ ì´ë¯¸ì§€ ìƒ‰ê¹”ì„ ë“œë˜ê·¸í•˜ì„¸ìš”</h1>
		</div>
	</header>
	<section id="main">
		<table>
			<tr>
			<td colspan="2">					
				<div id="drop" style="width:500px; height:150px;  padding:10px;" ondragover="DragOver(event)" ondrop="Drop(event)" draggable="false">
					     <h2> Image Box</h2>
					<img id="apple" src="img/apple.gif" draggable="true" ondragstart="DragStart(event)" />
					<img id="apple2" src="img/apple2.jpg" draggable="true" ondragstart="DragStart(event)" />
					<img id="cherry" src="img/cherry.jpg" draggable="true" ondragstart="DragStart(event)" />
					<img id="green_car" src="img/green_car.jpg" draggable="true" ondragstart="DragStart(event)"/>
					<img id="green" src="img/green.jpg" draggable="true" ondragstart="DragStart(event)" />
					<img id="red" src="img/red.jpg" draggable="true" ondragstart="DragStart(event)" />
					<img id="star" src="img/star.jpg" draggable="true" ondragstart="DragStart(event)" />									
					</div>
		   		</td>
			</tr>
			
			<tr>				
				<td >					
		  	<div id="drop" style="width:250px; height:150px;  border-color :green;  border-style :solid ;padding:10px;" 
		  	 ondragover="DragOver(event)" ondrop="Drop(event)" draggable="false">
				</div>
			</td>
			<td >
				<div id="drop" style="width:250px; height:150px;  border-color :red;  border-style :solid ;
				  padding:10px;" ondragover="DragOver(event)" ondrop="Drop(event)" draggable="false">
				</div>
			</td>
			</tr>
		</table>
	</section>
</div>
<div class="page">
	<header>
		<div id="title">
			<h1>ìƒìì˜ ìƒ‰ê¹”ëŒ€ë¡œ ì´ë¯¸ì§€ ìƒ‰ê¹”ì„ ë“œë˜ê·¸í•˜ì„¸ìš”</h1>
		</div>
	</header>
	<section id="main">
		<table>
			<tr>
			<td colspan="2">					
				<div id="drop" style="width:500px; height:150px;  padding:10px;" 
					ondragover="DragOver(event)" ondrop="Drop(event)" draggable="false">
					     <h2> Image Box</h2>
					<img id="apple" src="img/apple.gif" draggable="true" ondragstart="DragStart(event)" />
					<img id="apple2" src="img/apple2.jpg" draggable="true" ondragstart="DragStart(event)" />
					<img id="cherry" src="img/cherry.jpg" draggable="true" ondragstart="DragStart(event)" />
					<img id="green_car" src="img/green_car.jpg" draggable="true" ondragstart="DragStart(event)"/>
					<img id="green" src="img/green.jpg" draggable="true" ondragstart="DragStart(event)" />
					<img id="red" src="img/red.jpg" draggable="true" ondragstart="DragStart(event)" />
					<img id="star" src="img/star.jpg" draggable="true" ondragstart="DragStart(event)" />									
					</div>
		   		</td>
			</tr>
			
			<tr>				
				<td >					
		  	<div id="drop" style="width:250px; height:150px;  border-color :green; 
		  	         border-style :solid ;padding:10px;" 
					 ondragover="DragOver(event)" ondrop="Drop(event)" draggable="false">
				</div>
			</td>
			<td >
				<div id="drop" style="width:250px; height:150px;  border-color :red; 
				  border-style :solid ;
				  padding:10px;" ondragover="DragOver(event)" ondrop="Drop(event)" draggable="false">
				</div>
			</td>
			</tr>
		</table>
	</section>
</div>
```

* ë“œë˜ê·¸ ì‹œì‘í•  ë•Œ ë°ì´í„°ë¥¼ ì „ìš© ê°ì²´ì— ì €ì¥í•˜ëŠ” ê²ƒì€ HTML5 ìš”ì†Œ ì¤‘ dragstart ì´ë²¤íŠ¸, ì´ë¯¸ì§€, ë§í¬, ì„ íƒëœ ë¬¸ìì—´ì€ ìë™ìœ¼ë¡œ ì €ì¥ë˜ê³  javascriptì—ì„œ ë“œë˜ê·¸ ì‹œì‘ ì‹œ dataTransferë¼ëŠ” ê°œì²´ë¡œ ëŒì–´ ë°ì´í„°ë¥¼ ë„£ì–´ë‘ 
* dataTransfer ê°œì²´ëŠ” ë“œë¡­ ì‹œ ë°ì´í„°ë¥¼ ì œê±°í•˜ê±°ë‚˜ ë°ì´í„°ë¥¼ ëŒ€ìƒì— ì „ë‹¬í•  ë•Œì— ë“œë˜ê·¸ ì•¤ ë“œë¡­ì„ ì‹¤í˜„í•¨
* dataTransferì˜ ì£¼ìš” ë©”ì„œë“œ

| ë©”ì†Œë“œ                       | ê¸°ëŠ¥                                                                                                                                                          |
| ------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------- |
| setData(key, value)       | <p>> ë“œë˜ê·¸ì™€ ë“œë¡­ìœ¼ë¡œ ì „ë‹¬í•˜ëŠ” ë°ì´í„°ë¥¼ í‚¤/ê°’ ìŒìœ¼ë¡œ ì„¤ì •<br>> í•´ë‹¹ key ê°’ì€ MIME íƒ€ì…("text/plain", "text/uri-list", "text/html")ì„ ì§€ì •<br>> ValueëŠ” ìš”ì†Œì˜ 10ë¥¼ ì§€ì •</p>                       |
| getData(key)              | <p>> setData ë©”ì„œë“œì—ì„œ ì„¤ì •í•œ ë°ì´í„°ë¥¼ í‚¤(18 / ur) ì§€ì •<br>> ê²€ìƒ‰, ì¶”ì¶œí•˜ëŠ” ë°”ì™€ ê°™ì´ MIME íƒ€ì… ("text/plain" "text/uri-list" "text/html")ì„ ì§€ì •<br>> ì™¸ë¶€ íƒ­ì´ë‚˜ ë¸Œë¼ìš°ì €ì–´ì„œ ES HOES ì–»ì„ + ìˆìŒ</p> |
| clearData()               | > ë°ì´í„°ë¥¼ ì‚­ì œí•¨                                                                                                                                                  |
| setDragImage(image, x, y) | ë“œë˜ê·¸í•  ë–„ ì•„ì´ì½˜ ì´ë¯¸ì§€ë¥¼ `<img>` ìš”ì†Œë¡œ ì‚¬ìš©í•˜ì—¬ x/yì˜ ì¢Œí‘œë¡œ ì§€ì •                                                                                                                |
| addElement(element)       | > ë“œë˜ê·¸ ìš”ì†Œë¥¼ ì¶”ê°€í•¨                                                                                                                                               |

â€» datatransferì˜ ì£¼ìš” ì†ì„±

| ì†ì„±            | ê¸°ëŠ¥                                                                                                                                                                                                        |
| ------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| dropEffect    | <p>> Drag &#x26; Drop ë™ì‘ì˜ ì¢…ë¥˜ë¥¼ ë‚˜íƒ€ë‚´ëŠ” ë¬¸ìì—´<br>> copy, move, link, none(ì´ˆê¸°ê°’) ì¤‘ í•˜ë‚˜<br>> effectAllowed ì†ì„±ì— ì˜í•´ í—ˆìš©ë˜ì§€ ì•Šì€ ì¢…ë¥˜ì˜ ë™ì‘ì€ ì²˜ë¦¬í•  ìˆ˜ ì—†ìŒ</p>                                                                       |
| effectAllowed | <p>> í—ˆìš©í•  dropEffectë¥¼ ì§€ì •í•˜ëŠ” ë¬¸ìì—´<br>> copy, move, linkì™€ ê°™ì€ ë™ì‘ì„ í—ˆìš©í•˜ë©° copyLink, copyMove, linkMove, allê³¼ ê°™ì€ ë‘˜ ì´ìƒì˜ ë™ì‘ì„ ë™ì‹œì— í—ˆìš©í•  ìˆ˜ë„ ìˆìŒ<br>> none(dropì„ í—ˆìš©í•˜ì§€ ì•ŠìŒ)ì„ ì§€ì •í•  ìˆ˜ ìˆìŒ<br>> dragstart ì´ë²¤íŠ¸ì— ê°’ì„ ì§€ì •í•˜ëŠ” ê²ƒì´ ì¼ë°˜ì ì„</p> |
| types         | > dragstart ì´ë²¤íŠ¸ ë°œìƒì‹œ DOM ëª©ë¡ì— ìˆëŠ” data formatì„ ì„¤ì •í•˜ë©° setData í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•  ë•Œ ì§€ì •ë˜ëŠ” format ë¬¸ìì—´ì„ ë°°ì—´í˜•ì‹ìœ¼ë¡œ ì–»ì„ ìˆ˜ ìˆìŒ                                                                                                        |
| files         | <p>> ë‹¤ë¥¸ applicationìœ¼ë¡œë¶€í„° Drag &#x26; Drop íŒŒì¼ì„ ê°€ì ¸ì˜´<br>> types ì†ì„±ì— "Files" ë¼ëŠ” ë¬¸ìì—´ì´ ì €ì¥ë¨</p>                                                                                                                   |

**2ë‹¨ê³„ : ë“œë¡­ì˜ êµ¬í˜„**

* 1ë‹¨ê³„ì´ì„œ ë“œë˜ê·¸ë¥¼ í•˜ê³  2ë‹¨ê³„ì—ì„œ ë“œë¡­ì„ í•˜ëŠ” ë° ì†ì„±ì§€ì •ê³¼ í•¨ê»˜ ê¼­ ì•Œì•„ì•¼ í•˜ëŠ” ê²ƒì´ **ì´ë²¤íŠ¸ ë©”ì†Œë“œ**ì„
* ë“œë˜ê·¸ì™€ ë“œë¡­ ì´ë²¤íŠ¸ ë©”ì†Œë“œëŠ” ë“œë˜ê·¸ ì‹œì‘ê³¼ ë“œë¡­ì˜ ëê¹Œì§€ ëª…ë ¹ ìˆ˜í–‰ì„ ê°€ì§„ **ê¸°ëŠ¥ ë©”ì†Œë“œ**ì„
* ë“œë˜ê·¸ì™€ ë“œë¡­ì— ê´€í•œ ì´ë²¤íŠ¸ëŠ” "ondragenter"ë‚˜ "ondrop"ë“± ê° ì´ë²¤íŠ¸ì— í•´ë‹¹í•˜ëŠ” **"on\~"ë¼ëŠ” ì†ì„±**ì´ ì¤€ë¹„ë˜ì–´ ìˆìŒ
* ì´ëŸ¬í•œ íŠ¹ì„±ì— ì´ë²¤íŠ¸ ì²˜ë¦¬ê°€ ë˜ëŠ” í•¨ìˆ˜ì˜ ì´ë¦„ì„ ì§€ì •í•˜ê³ , ì´ë²¤íŠ¸ ë³„ ë™ì‘ì„ ê° í•¨ìˆ˜ì— êµ¬í˜„í•¨
* ë“œë˜ê·¸ëŠ” MouseLeave ë° MouseEnter ë“±ì˜ ë§ˆìš°ìŠ¤ ì´ë²¤íŠ¸ ë“±ì€ ë°œìƒí•˜ì§€ ì•ŠëŠ” ì ì— ì£¼ì˜ê°€ í•„ìš”í•¨
* Drag & Drop ì¡°ì‘ì— ê´€í•œ ì£¼ìš” ì´ë²¤íŠ¸

| ì¢…ë¥˜  | ì´ë²¤íŠ¸       | ê¸°ëŠ¥                                                                                                             |
| --- | --------- | -------------------------------------------------------------------------------------------------------------- |
| ë“œë˜ê·¸ | dragstart | ìš”ì†Œë¥¼ ë“œë˜ê·¸í•˜ê³ ì í•˜ëŠ” ìˆœê°„ ë°œìƒí•¨. ì´ ì´ë²¤íŠ¸ê°€ ë°œìƒí•˜ë©´ datatransfer.setData ê°™ì€ ì •ë³´ë“¤ì„ ì„¤ì •í•˜ê²Œ ë¨                                          |
|     | drag      | ë“œë˜ê·¸ë¥¼ í•˜ëŠ” ë§ˆìš°ìŠ¤ê°€ ì›€ì§ì¼ ë•Œ ë°œìƒí•¨                                                                                         |
|     | dragend   | ë“œë˜ê·¸ ì¢…ë£Œ ì‹œ ë°œìƒí•¨                                                                                                   |
| ë“œë¡­  | dragenter | <p>ë“œë˜ê·¸ëœ ìš”ì†Œê°€ ë“œë¡­í•  ìœ„ì¹˜ì™€ ê²¹ì¹˜ëŠ” ìˆœê°„ ë°œìƒí•¨. ì´ ì´ë²¤íŠ¸ì— ëŒ€í•œ ì´ë°´íŠ¸ í•¸ë“¤ëŸ¬ëŠ” ì´ ìœ„ì¹˜ë¡œ ë“œë¡­ì„ í—ˆìš©í•  ê²ƒ ì¸ì§€ì— ëŒ€í•œ ì—¬ë¶€ë¥¼ ê²°ì •í•´ì•¼ í•¨.<br>ê¸°ë³¸ì ìœ¼ë¡œ ë“œë¡­ì„ í—ˆìš©í•˜ì§€ ì•ŠìŒ</p> |
|     | dragover  | ë“œë˜ê·¸ ëœ ìš”ì†Œê°€ ë“œë¡­ ëŒ€ìƒ ìœ„ì¹˜ë¡œ ì˜®ê²¨ì ¸ ì§€ë‚˜ê³  ìˆì„ ë•Œ ë°œìƒí•¨                                                                           |
|     | dragleave | ë“œë˜ê·¸ ëœ ìš”ì†Œê°€ ë“œë¡­ ëŒ€ìƒ ìœ„ì¹˜ì—ì„œ ë²—ì–´ë‚˜ì„œ ì´ë™í•  ë•Œ ë°œìƒí•¨                                                                            |
|     | drop      | ë“œë¡­ ì§„í–‰ ì‹œ ë°œìƒí•¨                                                                                                    |

#### ë‹¨ê³„ë³„ë¡œ ì§„í–‰ë˜ëŠ” Drag & Drop

* ì´ë²¤íŠ¸ ë©”ì†Œë“œëŠ” ë“œë˜ê·¸ì™€ ë“œë¡­ì„ í•˜ëŠ” ë‹¨ê³„ì™€ ê¸°ëŠ¥ì— ë”°ë¼ í˜¸ì¶œë¨

#### ì´ë²¤íŠ¸ ë©”ì†Œë“œë¥¼ ì§€ì •í•˜ê¸°

**01. ì‹œì‘ì¸ ì†ì„±ê³¼ dragstartì„ ì§€ì •í•˜ê¸°**

```html
<label id="apple" draggable="true" ondragstart="doDragStart(event);">ì‚¬ê³¼</label>
```

* ondragstart = "return doDragStart(event);"ë¼ëŠ” ondragstart ì†ì„±ì€ ë“œë˜ê·¸ë¥¼ ì‹œì‘í•  ë•Œ ì§€ì •í•˜ëŠ” ì´ë²¤íŠ¸ì„
* ì´ ì†ì„±ì€ ë“œë˜ê·¸ë¥¼ ì‹œì‘í•˜ëŠ” ì´ë²¤íŠ¸ë¡œ Drag & Dropì„ í•  ê²½ìš° **ì–´ë–¤ ë°ì´í„°ë¥¼ ì „ë‹¬í•  ê²ƒì¸ì§€**ë¥¼ ìƒê°í•´ì•¼ í•¨
* ondragstartë¡œ ì„¤ì •í•œ doDragStart ë¼ëŠ” í•¨ìˆ˜ì—ì„œ ì´ ì²˜ë¦¬ë¥¼ í•˜ê²Œ ë¨

```js
function doDragStart(event) {
	event.dataTransfer.setData("text/plain", event.target.id);
}
```

* doDragStart í•¨ìˆ˜ëŠ” ë“œë˜ê·¸ ì‹œì‘ì„ ì²˜ë¦¬í•¨
* ì—¬ê¸°ì—ì„œëŠ” "event.dataTransfer.setData"ì´ë¼ëŠ” ê°’ì„ ì„¤ì •í•¨
* dataTransferëŠ” Drag & Dropìœ¼ë¡œ ì´ë™ë˜ëŠ” ë°ì´í„°ë¥¼ ê´€ë¦¬í•˜ëŠ” ê°œì²´ì´ë©° "setData" ë©”ì†Œë“œëŠ” ë°ì´í„°ë¥¼ ì„¤ì •í•˜ëŠ” ë°©ë²•ìœ¼ë¡œ `"text/plain" MIME íƒ€ì…ì„ ì§€ì •`í•˜ê³  event.target.idëŠ” appleì´ë¼ëŠ”`<label>` ìš”ì†Œì˜ idì¸ ë¬¸ìì—´ì´ ì§€ì •ë¨

**02. "ondragover" íŠ¹ì„±ì— ì„¤ì •ëœ ì²˜ë¦¬ë¥¼ í˜¸ì¶œ**

```js
	function doDragOver(event) {
		var type = event.dataTransfer.types.contains("text/plain");
		if (type) {
			event.preventDefault();
		}
	}
```

* ì‘ì—…ì„ ìˆ˜í–‰í•œ í›„ `trueë¥¼ ë°˜í™˜`í•˜ë©´ ê·¸ëŒ€ë¡œ ondragover ì´ë²¤íŠ¸ê°€ ê³„ì†ë˜ê³  ë“œë¡­ë˜ì§€ ì•ŠëŠ” ê¸°ë³¸ ì‘ì—…ì´ ì‹¤í–‰ë¨
* falseë¥¼ ë°˜í™˜í•˜ë©´ ì´ë²¤íŠ¸ëŠ” ê¸°ë³¸ ì²˜ë¦¬ë˜ì§€ ì•Šê³  ë“œë¡­í•  ìˆ˜ ìˆìŒ
* ë˜í•œ event `ê°œì²´ "preventDefault"ë¼ëŠ” methodë¥¼ í˜¸ì¶œ`í•˜ë©´ ê¸°ë³¸ ë™ì‘ì„ ì·¨ì†Œí•  ìˆ˜ ìˆë„ë¡ í•¨
* ì¦‰ ë“œë¡­ ëŒ€ìƒì´ ì´ë²¤íŠ¸ê°€ ë°œìƒë˜ì§€ ì•Šë„ë¡ ì§€ì •í•˜ëŠ” ë©”ì†Œë“œì„

**03. doDrop í•¨ìˆ˜ ë“œë¡­ëœ ë°ì´í„°ë¥¼ ì²˜ë¦¬**

```js
	function doDrop(event) {
		var data = event.dataTransfer.getData("text/plain");
		event.target.textContent = data;
		event.target.style.cssText = "background-color:#ffffff";
	}
```

* event.dataTransfer.getDataë¥¼ í˜¸ì¶œ, ë“œë˜ê·¸ëœ ê°ì²´ì— ì €ì¥ë˜ì–´ìˆëŠ” ë°ì´í„°ë¥¼ ê²€ìƒ‰í•¨
* event.target.textContentì— ê°’ì„ ì„¤ì •í•˜ê³  ë“œë¡­ëœ ëŒ€ìƒ ê°œì²´ì— í…ìŠ¤íŠ¸ë¥¼ í‘œì‹œí•¨
* event.target.style.cssTextë¥¼ ë³€ê²½ ëŒ€ìƒ ê°ì²´ì˜ ìŠ¤íƒ€ì¼ ì‹œíŠ¸ë¥¼ ë³€ê²½ë„ í•¨

### 2. ë‹¤ì–‘í•œ ê¸°ëŠ¥ì˜ DnD(Drag & Drop)

#### ë‹¤ë¥¸ ë¸Œë¼ìš°ì €, ë‹¤ë¥¸ íƒ­ì˜ ë‚´ìš©ì„ DnD

* HTML5ì˜ Drag and Drop APIëŠ” MIME íƒ€ì…ì„ ì§€ì •í•˜ì—¬ ë‹¤ë¥¸ ë¸Œë¼ìš°ì €, ë‹¤ë¥¸ íƒ­ì˜ ë°ì´í„°, ë˜ëŠ” ë¡œì»¬ì—ì„œ ì›í•˜ëŠ” ë””ë ‰í† ë¦¬ë¥¼ ì§€ì •í•´ì„œ ë“œë˜ê·¸ ì•¤ ë“œë¡­ì„ ì‹¤í–‰í• ìˆ˜ ìˆìŒ
* ì§€ì›í•˜ëŠ” MIME íƒ€ì…

| MIME íƒ€ì…       | ê°œìš”         |
| ------------- | ---------- |
| text/plain    | ì¼ë°˜ í…ìŠ¤íŠ¸ ë°ì´í„° |
| text/html     | HTML ë¬¸ìì—´   |
| text/xml      | XML ë¬¸ìì—´    |
| text/uri-list | URI ëª©ë¡     |

```html
<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<title>Drag &amp;Drop</title>
<script type="text/javascript">

	function onDrop(event) {
		var text = event.dataTransfer.getData("text/plain");
		drop.innerHTML = text;
		event.preventDefault();
	}
	function onDragOver(event) {
		event.preventDefault();
	}
</script>
</head>
<body>
	<div>
		<header>
			<div id="title">
				<h3>ë‹¤ë¥¸ ë¸Œë¼ìš°ì €ì˜ ë‚´ìš©ì„ ê°€ì ¸ì˜µë‹ˆë‹¤</h3>
			</div>
		</header>
		<section id="main">
			<div id="drop"
				style="width: 300px; height: 200px; padding: 10px; border: 3px solid"
				ondragover="onDragOver(event)" 
				ondrop="onDrop(event)"></div>
		</section>
		<footer> </footer>
	</div>
</body>
</html>
```

#### ì´ë¯¸ì§€ ê·¸ë£¹í™”ë¥¼ êµ¬í˜„í•˜ëŠ” DnD

> ê¸°ëŠ¥ : **ë‹¤ë¥¸ ì˜ì—­ ê°„ì˜ ë“œë˜ê·¸ ì•¤ ë“œë¡­**, ì˜ˆë¥¼ ë“¤ì–´ ì—…ë¡œë“œ ëœ ì´ë¯¸ì§€ íŒŒì¼ì„ ë“œë˜ê·¸ ì•¤ ë“œë¡­ìœ¼ë¡œ ê·¸ë£¹í™”í•˜ê±°ë‚˜ ì•¨ë²” ì• í”Œë¦¬ì¼€ì´ì…˜ ë° ì´ë¯¸ì§€ì— í”„ë¡œíŒŒì¼ ì •ë³´ ë“±ì˜ ê·¸ë£¹í™”&#x20;
>
>
>
> í™œìš© : DnDë¥¼ í™œìš©í•´ì„œ ë‘ ì˜ì—­ ê°„ì˜ ë“œë˜ê·¸ ì•¤ ë“œë¡­ì„ êµ¬í˜„í–ˆì„ ë•Œ ì´ë¯¸ì§€, ë¬¸ìì—´ ë“±ì„ **ê·¸ë£¹í™”**í•´ì„œ ê´€ë¦¬í• ìˆ˜ ìˆìŒ&#x20;
>
>
>
> ë°©ë²• : DataTransferì˜ ë©”ì†Œë“œ ì¤‘ ë“œë˜ê·¸í•  ë•Œ ì•„ì´ì½˜ ì´ë¯¸ì§€ë¥¼ `<img>` ìš”ì†Œë¡œ ì‚¬ìš©í•˜ì—¬ x/yì˜ ì¢Œí‘œë¡œ ë“œë˜ê·¸ ìœ„ì¹˜ë¥¼ ë°”ê¾¸ì–´ **setDragimage(image, x, y)ë©”ì†Œë“œ** í˜¹ì€ **ìš”ì†Œë¥¼ ì¶”ê°€í•˜ëŠ” addElement(element) ë©”ì†Œë“œ**ë¥¼ ì‚¬ìš©í•˜ë©´ ë¨

###

### Epilogue > Quiz

ì˜¤ëŠ˜ ë°°ìš´ ë‚´ìš©ì„ í€´ì¦ˆë¥¼ í†µí•´ ì •ë¦¬í•´ ë³´ì„¸ìš”

**Q1. ë‹¤ìŒê³¼ ê°™ì€ ì½”ë“œë¥¼ ì§€ì •í•´ì„œ ë“œë˜ê·¸ë¥¼ ì‹œì‘í•˜ë ¤ê³  í•œë‹¤.** \_\_\_\_\_\_ì— ì°¨ë¡€ë¡œ ë“¤ì–´ê°ˆ ì½”ë“œë¥¼ ì •í™•í•˜ê²Œ ë‚˜ì—´í•œ ê²ƒì€?

```html
<img ______ id="imglink" ______="drag(this, event);" src="img_a.ipg" alt="">
```

1. draggable="true", ondragstart
2. ondragstart, draggable="true"
3. ondratdrop, draggable="none"
4. draggable="false", ondragstart



**Q2. ondragover="onDragOver(event)"ë¥¼ ì§€ì • í–ˆì„ ë•Œ ë‹¤ìŒ ì½”ë“œì˜ ì„¤ëª…ì´ í‹€ë¦° ê²ƒì€ ë¬´ì—‡ì¸ê°€?**

```js
function onDragOver(e){
	e.dataTransfer.dropEffect="move";
	e.preventDefault();
}
```

1. e.dataTransfer.dropEffect="move"ëŠ” Dropí•  ë•Œ íš¨ê³¼ë¥¼ ë‚˜íƒ€ë‚¸ë‹¤.
2. e.preventDefault()ëŠ” ondragover ì´ë²¤íŠ¸ì˜ ê¸°ë³¸ ì²˜ë¦¬ë¥¼ ì·¨ì†Œí•œë‹¤.
3. e.preventDefault()ëŠ” ë©”ì†Œë“œë¥¼ í˜¸ì¶œí•˜ì§€ ì•Šê±°ë‚˜ falseë¥¼ ë°˜í™˜í•˜ì§€ ì•Šìœ¼ë©´ Drop ì´ë²¤íŠ¸ë¥¼ í—ˆìš©í•˜ì§€ ì•ŠëŠ”ë‹¤.
4. onDragOver(e)ëŠ” ë“œë˜ê·¸ëœ ìš”ì†Œê°€ ë“œë¡­ ëŒ€ìƒ ìœ„ì¹˜ì—ì„œ ë²—ì–´ë‚˜ì„œ ì´ë™í•  ë•Œ ë°œìƒí•œë‹¤.



**Q3. ë‹¤ìŒ ì´ë²¤íŠ¸ ì •ì˜ëœ ê¸°ëŠ¥ì´ ì˜ëª» ì„¤ëª…ëœ ê²ƒì€?**

1. dragstart : ìš”ì†Œë¥¼ ë“œë˜ê·¸í•˜ê³ ì í•˜ëŠ” ìˆœê°„ ë°œìƒí•œë‹¤.
2. drag : ë“œë˜ê·¸ë¥¼ í•˜ëŠ” ë§ˆìš°ìŠ¤ê°€ ì›€ì§ì¼ ë•Œ ë°œìƒí•œë‹¤.
3. dragenter : ë“œë˜ê·¸ ëœ ìš”ì†Œê°€ ë“œë¡­ ëŒ€ìƒ ìœ„ì¹˜ë¥¼ ì„ íƒí•  ë•Œ ë°œìƒí•œë‹¤.
4. dragover : ë“œë˜ê·¸ ëœ ìš”ì†Œê°€ ë“œë¡­ ëŒ€ìƒ ìœ„ì¹˜ë¡œ ì˜®ê²¨ì ¸ ì§€ë‚˜ê³  ìˆì„ ë•Œ ë°œìƒí•œë‹¤.



### Epilogue | Summary

#### 1. Drag & Drop

*   Drag & Drop ì´ë€?

    > ë“œë˜ê·¸ ì•¤ ë“œë¡­ì€ ì›í•˜ëŠ” ì½˜í…ì¸  ì˜ì—­ì— ìˆëŠ” ê²ƒì„ ë‹¤ë¥¸ ì½˜í…ì¸  ì˜ì—­ìœ¼ë¡œ ëŒì–´ë‹¤ ë†“ëŠ” ê¸°ëŠ¥
* Drag & Dropì˜ ë‹¨ê³„&#x20;



#### 1ë‹¨ê³„ : ë“œë˜ê·¸ì˜ êµ¬í˜„

1. ëŒ€ìƒì˜ ìš”ì†Œë¥¼ ëŒì–´ í—ˆìš©í•¨ (ì´ë¯¸ì§€, ë§í¬, ì„ íƒì˜ ë¬¸ìì—´ì€ ê¸°ë³¸ì ìœ¼ë¡œ ë“œë˜ê·¸ ê°€ëŠ¥í•¨)
2. ë“œë˜ê·¸ ì‹œì‘í•  ë•Œ ë°ì´í„°ë¥¼ ì „ìš© ê°ì²´ì— ì €ì¥í•¨(dragstart ì´ë²¤íŠ¸, ì´ë¯¸ì§€, ë§í¬, ì„ íƒì˜ ë¬¸ìì—´ì€ ìë™ìœ¼ë¡œ ì €ì¥ë¨)

#### 2ë‹¨ê³„ : ë“œë¡­ì˜ êµ¬í˜„

1. ë“œë¡­í•œ ìš”ì†Œë¥¼ ë“œë¡­ì‹œí‚´
2. ë“œë¡­ì´ ì™„ë£Œë˜ë©´ ë°ì´í„°ë¥¼ ì „ìš© ê°ì²´ì—ì„œ êº¼ëƒ„ (drop ì´ë²¤íŠ¸)

#### ë‹¤ì–‘í•œ ê¸°ëŠ¥ì˜ DnD

* ë‹¤ë¥¸ ë¸Œë¼ìš°ì €, ë‹¤ë¥¸ íƒ­ì˜ ë‚´ìš©ì„ DnD
  * HTML5ì˜ Drag and Drop APIëŠ” MIME íƒ€ì…ì„ ì§€ì •í•˜ì—¬ ë‹¤ë¥¸ ë¸Œë¼ìš°ì €, ë‹¤ë¥¸ íƒ­ì˜ ë°ì´í„°, ë˜ëŠ” ë¡œì»¬ì—ì„œ ì›í•˜ëŠ” ë””ë ‰í† ë¦¬ë¥¼ ì§€ì •í•´ì„œ ë“œë˜ê·¸ ì•¤ ë“œë¡­ì„ ì‹¤í–‰í• ìˆ˜ ìˆìŒ
* ì´ë¯¸ì§€ ê·¸ë£¹í™”ë¥¼ êµ¬í˜„í•˜ëŠ” DnD ê¸°ëŠ¥ : ë‹¤ë¥¸ ì˜ì—­ ê°„ì˜ ë“œë˜ê·¸ ì•¤ ë“œë¡­, ì˜ˆë¥¼ ë“¤ì–´ ì—…ë¡œë“œ ëœ ì´ë¯¸ì§€ íŒŒì¼ì„ ë“œë˜ê·¸ ì•¤ ë“œë¡­ìœ¼ë¡œ ê·¸ë£¹í™”í•˜ê±°ë‚˜ ì•¨ë²” ì• í”Œë¦¬ì¼€ì´ì…˜ ë° ì´ë¯¸ì§€ì— í”„ë¡œíŒŒì¼ ì •ë³´ ë“±ì˜ ê·¸ë£¹í™” í™œìš© : DnDë¥¼ í™œìš©í•´ì„œ ë‘ ì˜ì—­ ê°„ì˜ ë“œë˜ê·¸ ì•¤ ë“œë¡­ì„ êµ¬í˜„í–ˆì„ ë•Œ ì´ë¯¸ì§€, ë¬¸ìì—´ ë“±ì„ ê·¸ë£¹í™”í•´ì„œ ê´€ë¦¬í• ìˆ˜ ìˆìŒ ë°©ë²• : DataTransferì˜ ë©”ì†Œë“œ ì¤‘ ë“œë˜ê·¸í•  ë•Œ ì•„ì´ì½˜ ì´ë¯¸ì§€ë¥¼ `<img>` ìš”ì†Œë¡œ ì‚¬ìš©í•˜ì—¬ x/yì˜ ì¢Œí‘œë¡œ ë“œë˜ê·¸ ìœ„ì¹˜ë¥¼ ë°”ê¾¸ì–´ setDragimage(image, x, y)ë©”ì†Œë“œ í˜¹ì€ ìš”ì†Œë¥¼ ì¶”ê°€í•˜ëŠ” addElement(element) ë©”ì†Œë“œë¥¼ ì‚¬ìš©í•˜ë©´ ë¨
