---
description: ğŸ±â€ğŸ 07ì¥. ë¡œì»¬ì—ì„œ ê´€ë¦¬ë˜ëŠ” File API
---

# ğŸ¥‡ ğŸ±â€ğŸ 07ì¥. File API

{% file src="../.gitbook/assets/07_localFileAPI.zip" %}
7ì¥.example
{% endfile %}

### ğŸ¯ Prologue > Pre-quiz

í•™ìŠµì„ ì‹œì‘í•˜ê¸°ì— ì•ì„œ, ì–¼ë§ˆë‚˜ ì•Œê³  ìˆëŠ”ì§€ í™•ì¸í•´ ë´…ì‹œë‹¤.

**Q1. File APIë€ ì›¹ ì–´í”Œë¦¬ì¼€ì´ì…˜ì´ ë¡œì»¬ íŒŒì¼ì˜ ë‚´ìš©ì— ì ‘ê·¼í•  ìˆ˜ ìˆë„ë¡ í•˜ëŠ” API ë¥¼ ë§í•œë‹¤.**

1. ì˜ˆ 2. ì•„ë‹ˆì˜¤

**Q2. ë¡œì»¬ì—ì„œ ê´€ë¦¬í•  ìˆ˜ ìˆëŠ” íŒŒì¼ì„ ì‚¬ìš©ìì˜ íŒŒì¼ ì‹œìŠ¤í…œì—ì„œ ëª¨ë‘ ì ‘ê·¼í•  ìˆ˜ ìˆëŠ” ê²ƒì€ ì•„ë‹ˆë‹¤.**

1. ì˜ˆ 2. ì•„ë‹ˆì˜¤

**Q3. fileWriterì˜ ê°œì²´ëŠ” ì¥ì¹˜íŒŒì¼ ì‹œìŠ¤í…œ(UTF-8 ì¸ì½”ë”©)ì— íŒŒì¼ì„ ì‘ì„±í•˜ëŠ” ë°©ë²•ìœ¼ë¡œ ì‚¬ìš©í•œë‹¤.**

1. ì˜ˆ 2. ì•„ë‹ˆì˜¤

***

### ğŸ‘â€ğŸ—¨ í•™ìŠµëª©í‘œ

1. HTML5ì—ì„œ ì œê³µí•˜ëŠ” File APIì˜ ê°œë…ì„ ì •í™•í•˜ê²Œ ì •ì˜í•  ìˆ˜ ìˆë‹¤.
2. ë¡œì»¬ ì˜ì—­ì— íŒŒì¼ë“¤ì„ ì´ìš©í•˜ì—¬ ê°ì²´ë¥¼ ì½ì–´ë‚¼ ë•ŒëŠ” FileReader ì¸í„°í˜ì´ìŠ¤ë¥¼ í™œìš©í•  ìˆ˜ ìˆë‹¤.
3. FileWriterë¥¼ ì´ìš©í•´ì„œ ë¡œì»¬ ì˜ì—­ì— ë””ë ‰í† ë¦¬ë¥¼ ìƒì„±, ì‚­ì œ, ë³µì‚¬, ì´ë™í• ìˆ˜ìˆë‹¤.

### ğŸ’Œ í•™ìŠµë‚´ìš©

1. File APIë€?
2. FileReader
3. FileWriter

### 1. File APIë€?

#### HTML5 File APIì˜ ì˜ë¯¸

* ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ë¡œì»¬ íŒŒì¼ì˜ ë‚´ìš©ì— ì ‘ê·¼í•  ìˆ˜ ìˆë„ë¡ í•˜ëŠ” API
* ë¡œì»¬ì— ì €ì¥ë˜ì–´ìˆëŠ” íŒŒì¼ì˜ ì†ì„±ê³¼ ë‚´ìš©ì„ ê²€ìƒ‰í•˜ëŠ” API
* File APIì—ì„œ ì œê³µí•˜ëŠ” ì¸í„°í˜ì´ìŠ¤

#### ê¸°ì¡´ ë¡œì»¬ íŒŒì¼

> ì´ë¦„ ê²€ìƒ‰

#### File API

> ì„œë²„ ì²˜ë¦¬ ì—†ì´ íŒŒì¼ì˜ ì†ì„±ê³¼ ë‚´ìš©ì„ ì´ìš©í•œ ì²˜ë¦¬ ê°€ëŠ¥ ë‹¨, ë¡œì»¬ì—ì„œ ì ‘ê·¼ ê°€ëŠ¥í•œ íŒŒì¼ì€ ë“œë˜ê·¸ & ë“œë¡­ì´ë‚˜ íŒŒì¼ ì„ íƒ í¼(type ì†ì„±ì— "file"ì„ ì§€ì •í•œ input ìš”ì†Œ)ì„ ì´ìš©í•˜ì—¬ ì‚¬ìš©ìê°€ ì§ì ‘ ì„ íƒí•œ íŒŒì¼ì— í•œì •ë¨(ëª¨ë‘ ì ‘ê·¼í• ìˆ˜ ìˆëŠ” ê²ƒì€ ì•„ë‹˜)

#### Inputì˜ "file"ì„ ì§€ì •í•œ type ì†ì„±ì˜ ì˜ˆ

1. Input ìš”ì†Œì˜ íƒ€ì… ì†ì„±ì˜ íŒŒì¼ì€ ë©€í‹° ì†ì„±ì„ ëª…ì‹œí•˜ë©´ íŒŒì¼ì„ ì—¬ëŸ¬ ê°œ ì„ íƒí•  ìˆ˜ ìˆìŒ
2. íŒŒì¼ì„ ì‹¤í–‰í•œ ë‹¤,ìŒì— ë¡œì»¬ì— ìˆëŠ” ë””ë ‰í† ë¦¬ì— ì—¬ëŸ¬ ê°œì˜ íŒŒì¼ì„ ë™ì‹œì— ì„ íƒí•¨
3. Input ìš”ì†Œë¥¼ í´ë¦­í•˜ë©´ íŒŒì¼ ì—´ê¸° ì°½ì´ ì—´ë¦° ìƒíƒœì—ì„œ ì´ë¯¸ì§€ íŒŒì¼ 5ê°œë¥¼ ì„ íƒë¨
4. íŒŒì¼ 5ê°œë¥¼ ì„ íƒí•˜ë©´ íŒŒì¼ 5ê°œë¼ëŠ” ê¸€ìê°€ ë¿Œë ¤ì§€ê³ , ë§ˆìš°ìŠ¤ë¥¼ ì‚´ì§ ì˜¬ë ¤ ë†“ìœ¼ë©´ íŒŒì¼ì˜ ì„ íƒ ëª©ë¡ì´ í¼ì³ì§&#x20;

ì˜ˆì‹œì½”ë“œ)

```html
<body>
	<p>ëª¨ë“  ë¡œì»¬ íŒŒì¼ì„ ì„ íƒí•˜ë©´ ì„ íƒí•œ íŒŒì¼ì˜ ì†ì„±ì´ í‘œì‹œë©ë‹ˆë‹¤.</p>
	<p>ë³µìˆ˜ ì„ íƒë„ ê°€ëŠ¥í•©ë‹ˆë‹¤.</p>
	<input type= "file" id="fileInput" multiple aria-label="ì²¨ë¶€íŒŒì¼ì„ ì„ íƒí•˜ì„¸ìš”">
</body>
```

#### File APIì—ì„œ ì œê³µí•˜ëŠ” ì¸í„°í˜ì´ìŠ¤

| ì¸í„°í˜ì´ìŠ¤	| ê¸°ëŠ¥	|
| ----------------------------- | -------------------------------------------------------------- |
| File                          | <p>> File ì¸í„°í˜ì´ìŠ¤<br>> íŒŒì¼ ì´ë¦„ì´ë‚˜ í¬ê¸° ë“± ê¸°ë³¸ì ì¸ ë©”íƒ€ ë°ì´í„°ì— ì ‘ê·¼í•˜ëŠ” ê¸°ëŠ¥ì„ ê°€ì§</p> |
| FileReader / FileList         | > íŒŒì¼ì˜ ë‚´ìš©/íŒŒì¼ì˜ ëª©ë¡ì„ ì½ì–´ ë“¤ì´ëŠ” ê¸°ëŠ¥ì„ ê°€ì§                                 |
| FileWriter / BlobBuilder      | > íŒŒì¼ ìƒì„± ë˜ëŠ” íŒŒì¼ì— ì“°ê¸° ê¸°ëŠ¥ì„ ê°€ì§                                       |
| File API:Directories & System | > ë””ë ‰í† ë¦¬ ê³„ì¸µ êµ¬ì¡°ì— í´ë”ì™€ íŒŒì¼ì˜ ìƒì„±ã†ì €ì¥í•˜ëŠ” ê¸°ëŠ¥ì„ ê°€ì§                           |

* **File API** : ë¡œì»¬ì— ì €ì¥ë˜ëŠ” íŒŒì¼ì˜ ì†ì„±ê³¼ ë‚´ìš©ì„ ê²€ìƒ‰í• ìˆ˜ ìˆëŠ” API
* ê¸°ì¡´ : ë¡œì»¬ íŒŒì¼ì€ íŒŒì¼ ì´ë¦„ ê²€ìƒ‰ë§Œ ê°€ëŠ¥
* File APIì˜ í™œìš© : ì„œë²„ ì¸¡ì–´ì„œ ì²˜ë¦¬í•  í•„ìš” ì—†ì´, **íŒŒì¼ì˜ ì†ì„±ê³¼ ë‚´ìš©ì„ ì´ìš©í•œ ì²˜ë¦¬**ê°€ ê°€ëŠ¥
* File ìˆœìˆ˜í•œ íŒŒì¼ì˜ ì •ë³´ë¥¼ ì†ì„±ìœ¼ë¡œ ë¦¬í„´í•¨
* ë©”íƒ€íƒ€ì…ì˜ ì •ë³´ë¥¼ ë¦¬í„´í•˜ê±°ë‚˜ íŒŒì¼ì„ ìƒì„±, ì½ê¸°, ì“°ê¸°, ë³µì‚¬, ì´ë™, ì‚­ì œ ë“±ì˜ ê¸°ëŠ¥ì€ FileReader ê°ì²´ì™€ FileWriterë¥¼ í†µí•œ FileEntryì˜ ë©”ì„œë“œë¡œ ì‚¬ìš©ë¨

File APIì˜ êµ¬í˜„ ì—¬ë¶€ ì½”ë“œ

```html
<script>
if(window.File && window.FileReader && window.FileList && window.Blob) {
	alert("File API is supported by this browser")
} else {
	alert("File API is not supported by this browser");
}
</script>
```



#### íŒŒì¼ì˜ ì†ì„± ì •ë³´

| ì†ì„±/ë©”ì†Œë“œ               | ê¸°ëŠ¥                                                |
| -------------------- | ------------------------------------------------- |
| name                 | > File ì´ë¦„                                         |
| type                 | > Fileì˜ MIME Type(ì•Œ ìˆ˜ ì—†ì„ ë•ŒëŠ” null)                 |
| um                   | > Fileì˜ ë²”ìš© ì‹ë³„ì                                    |
| size                 | > ë°”ì´íŠ¸ ë‹¨ìœ„ì˜ íŒŒì¼ í¬ê¸°                                   |
| slice(start, length) | > ì‹œì‘ ìœ„ì¹˜ì™€ ëìœ„ì¹˜ë¥¼ ì§€ì •í•˜ì—¬ íŒŒì¼ì˜ ë‚´ìš©ì„ ì˜ë¼ë‚´ ìƒˆë¡œìš´ Blobê°ì²´ë¥¼ ë§Œë“œëŠ” í•¨ìˆ˜ |

#### íŒŒì¼ì˜ ì†ì„± ë¦¬í„´ë°›ëŠ” ë°©ë²• ì‚¬ìš©ì ì •ì˜ ë©”ì†Œë“œ ë‚´ì˜ ì½”ë“œ

```js
var files = document.getElementByld("fileInput").files;
for(var i=0; i<files.length; i++){
	var file = files[i];
	alert("íŒŒì¼ ì´ë¦„ :" + file.name + "í¬ê¸° :" + file.size);
}
```

ì´ë²¤íŠ¸ë¥¼ ë©”ì†Œë“œë¡œ êµ¬í˜„í•œ ì½”ë“œ

```js
target.ondrop = function(event){
	var files = event.dataTransfer.files;
	for(var i = 0; i < files.length; i++){
		var file = files[i];
		alert("íŒŒì¼ ì´ë¦„ :" + file.name + "í¬ê¸° : " + file.size);
	}
}
```

íŒŒì¼ì´ ë“œë˜ê·¸ ëœ í›„ ë°œìƒë˜ëŠ” ì´ë²¤íŠ¸ ë©”ì†Œë“œë¥¼ ë‚´ì— êµ¬í˜„í•œ ë‹¤ìŒ ìš”ì†Œì— ì¶”ê°€í•¨

```html
<script>
function onDrop(event) {
	var files = event.dataTransfer.files
	var disp = document.getElementById("drop")
	disp.innerHTML = ""
	for( var i = 0; i < files.length; i++) {
		var f = files[i];
		disp.innerHTML += "íŒŒì¼ì´ë¦„:" + fname + " íŒŒì¼íƒ€ì…: " + f.type  
			+ " íŒŒì¼ì˜ í¬ê¸° : " + fsize/1000 + " KB" + "<br>"
	}
	event.preventDefault();
}
function onDragOver(event) {
	event.preventDefault();
}
</script>
```

FileAttrView.html



### 2. FileReader

* íŒŒì¼ì„ ì½ëŠ” FileReaderê°ì²´ : read()ë©”ì„œë“œë¥¼ ì´ìš©í•´ì„œ Fileì˜ ê°ì²´ë¥¼ ì¸ìˆ˜ë¡œ ëŒ€ì…í•´ì„œ ì½ê¸°ë„ í•˜ì§€ë§Œ File ëŒ€ì‹  ê·¸ ë¶€ëª¨ í´ë˜ìŠ¤ì— í•´ë‹¹í•˜ëŠ” Blobí˜•ì˜ ê°ì²´ë¥¼ ì¸ìˆ˜ë¡œ ëŒ€ì…í•´ì„œ ì½ëŠ” ê²ƒë„ ê°€ëŠ¥í•¨
* Blob ê°ì²´ : ì›ê²©ì—ì„œ ì „ì†¡ë˜ì–´ ì˜¨ ë°ì´í„°ì™€ íŒŒì¼ ë°ì´í„°ë¥¼ ë¶€ë¶„ì ìœ¼ë¡œ ìë¥¸ ê²ƒ ê°™ì´ ì²˜ë¦¬ë˜ë©° í†µì‹  ë° ì…ì¶œë ¥ì˜ API ë“±ìœ¼ë¡œ ì‚¬ìš©ë˜ê¸°ë„ í•¨

**FileReaderì˜ ì£¼ìš” ì†ì„±ê³¼ ë©”ì†Œë“œ**

| ì†ì„±               | ê¸°ëŠ¥                                                             |
| ---------------- | -------------------------------------------------------------- |
| size             | > íŒŒì¼ í¬ê¸°, SafariëŠ” ì—¬ëŸ¬ ì„ íƒ ì‹œì—ëŠ” ë¯¸ ëŒ€ì‘<br>> Blob ê°œì²´ì—ì„œ ìƒì†ã†ì½ê¸° ì „ìš© |
| type             | > íŒŒì¼ì˜ MIME íƒ€ì…                                                  |
| name             | > íŒŒì¼ì˜ ì´ë¦„                                                       |
| lastModifiedDate | > ìµœê·¼ íŒŒì¼ì˜ ìˆ˜ì •í•œ ë‚ ì§œë¥¼ Date ê°ì„¸ë¡œ ë°˜í™˜í•˜ë©° Chromeì—ì„œ êµ¬í˜„ë¨                    |

| ë©”ì†Œë“œ                        | ê¸°ëŠ¥                                                                       |
| -------------------------- | ------------------------------------------------------------------------ |
| readAsArrayBuffer(File)    | > ì§€ì •ëœ íŒŒì¼ì˜ ë‚´ìš©ì„ ì½ê³ , ê³ ì • ê¸¸ì´ì˜ ë°ì´í„° ë°°ì—´ì„ ë°”ì´íŠ¸ë¡œ ì§€ì •í•˜ëŠ” ê²½ìš° ë“±ì— ì‚¬ìš©ë˜ë©° ArrayBuffer ê°œì²´ë¡œ ì €ì¥ |
| readAsBinaryString(File)   | > ì§€ì •ëœ íŒŒì¼ì˜ ë‚´ìš©ì„ ì½ì–´ ë°”ì´ë„ˆë¦¬ ë°ì´í„°ë¡œ ì €ì¥                                            |
| readAsText(File, encoding) | > ì§€ì •ëœ íŒŒì¼ì˜ ë‚´ìš©ì„ ì½ì–´ í…ìŠ¤íŠ¸ ë°ì´í„°ë¡œ ì €ì¥<br>> ì¸ì½”ë”© ì§€ì • : ì„ íƒì                     |
| readAsDataURL(File)        | > ì§€ì •ëœ íŒŒì¼ì˜ ë‚´ìš©ì„ ì½ì–´ DataURL í˜•ì‹ìœ¼ë¡œ ì €ì¥                                         |
| abort ()                   | > ë¡œë“œ ì¤‘ì§€                                                                  |



FileReaderì˜ ë©”ë„ë¥¼ ì´ìš©í•œ ì´ë¯¸ì§€ íŒŒì¼ ì½ê¸°

```html
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>ì´ë¯¸ì§€ íŒŒì¼ ì½ê¸°</title>
<script type="text/javascript">

	function onImageLoad(event) {
		var img = document.createElement('img');
		img.src = event.target.result;
		document.body.appendChild(img);
	}
	function onFilesSelected() {
		var input = document.getElementById("fileInput");                
		var size = input.files.length;
		for (var i = 0; i < size; i++) {
			var reader = new FileReader();
			reader.onload = onImageLoad;                
			reader.readAsDataURL(input.files[i]);
		}
	}
</script>
</head>
<body>
	<p>
		ì„ íƒí•œ ì´ë¯¸ì§€ íŒŒì¼ì„ í‘œì‹œí•©ë‹ˆë‹¤
	</p>
	<p>
		<input type="file" id="fileInput"  multiple="multiple" onchange="onFilesSelected()">
	</p>
</body>
</html>
```

#### FileReaderì˜ ì´ë²¤íŠ¸ ë©”ì†Œë“œ

| ë©”ì†Œë“œ         | ê¸°ëŠ¥                  |
| ----------- | ------------------- |
| onloadstart | íŒŒì¼ ë¡œë“œ ì‹œì‘ë˜ì—ˆì„ ë•Œ í˜¸ì¶œ    |
| onprogress  | íŒŒì¼ ë¡œë“œê°€ ì§„í–‰ ì¤‘ì¼ ë•Œ í˜¸ì¶œ   |
| onabort     | íŒŒì¼ ë¡œë“œê°€ ì¤‘ì§€ ë˜ì—ˆì„ ë•Œ í˜¸ì¶œ  |
| onload      | íŒŒì¼ ë¡œë“œ ì„±ê³µ(ì™„ë£Œ)í–ˆì„ ë•Œ í˜¸ì¶œ |



#### FileReaderì˜ ì´ë²¤íŠ¸ ë©”ì†Œë“œ&#x20;

íŒŒì¼ì˜ ë¡œë“œ ì§„í–‰ ì¤‘ì¼ ë•Œ ë°œìƒí•˜ëŠ” ì´ë²¤íŠ¸ ë©”ì†Œë“œ&#x20;

```javascript
var reader = new FileReader();
reader.onprogress (event) {
	info.innerHTML = event.total + "ë°”ì´íŠ¸ ì¤‘" + event.loaded + "ë°”ì´íŠ¸ ì™„ë£Œ";
}
```

``

#### Fileì˜ ì˜¤ë¥˜ ì²˜ë¦¬

* ì§€ì •ëœ íŒŒì¼ì„ ì½ì–´ì„œ ì²˜ë¦¬í•˜ëŠ” FileReaderì˜ ê°ì²´ëŠ” íŒŒì¼ì„ ì½ì–´ë“¤ì´ëŠ” ê³¼ì •ì—ì„œ ì˜¤ë¥˜ ì‹œ ì´ë²¤íŠ¸ ì²˜ë¦¬ê¸°ë¥¼ ì‘ì„±í•˜ë„ë¡ ì†ì„±ì„ ê°ì²´ì˜ error ì†ì„±ì˜ codeë“¤ë¡œ ì—°ë™í•  ìˆ˜ ìˆë„ë¡ ë˜ì–´ìˆìŒ&#x20;

| ì†ì„± ê°’ | ì†ì„±ì´ë¦„               | ê¸°ëŠ¥                           |
| ---- | ------------------ | ---------------------------- |
| 1    | NOT\_FOUND\_ERR    | íŒŒì¼ì„ ì°¾ì„ ìˆ˜ ì—†ì„ ë•Œ ë°œìƒ             |
| 2    | SECURITY\_ERR      | ë³´ì•ˆì„ ìœ„í•´ íŒŒì¼ì— ì•¡ì„¸ìŠ¤ í•  ìˆ˜ ì—†ì„ ë•Œ ë°œìƒ   |
| 3    | ABORT\_ERR         | íŒŒì¼ì„ ì½ë‹¤ê°€ ì¤‘ì§€ ë˜ì—ˆì„ ë•Œ ë°œìƒ          |
| 4    | NOT\_READABLE\_ERR | íŒŒì¼ì„ ì½ê¸°ê°€ ë¶ˆê°€ëŠ¥ í•  ë•Œ ë°œìƒ           |
| 5    | ENCODING\_ERR      | DataURL í˜•ì‹ìœ¼ë¡œ ì¸ì½”ë”© í•  ìˆ˜ ì—†ì„ ë•Œ ë°œìƒ |



#### ì˜¤ë¥˜ í•¸ë“¤ëŸ¬ êµ¬í˜„

```javascript
function errorHandler(e) {
	var msg ="";
	switch (e.code) {
	case FileError.QUOTA_EXCEEDED_ERR:
		msg = 'QUOTA_EXCEEDED_ERR'
		break
	case FileError.NOT_FOUND_ERR:
		msg = 'NOT_FOUND_ERR'
		break
	case FileError.INVALID_MODIFICATION_ERR:
		msg = 'INVALID_MODIFICATION_ERR'
		break
	case FileError.INVALID_STATE_ERR:
		msg = 'INVALID_STATE_ERR'
		break
	default:
		msg = 'Unknown Error'
		break
	}
	alert('Error:' + msg)
}
```

* ì„ íƒí•œ íŒŒì¼ì˜ ëª…ê³¼ í¬ê¸°ì˜ ëª©ë¡ì„ ì¶œë ¥í•˜ê³  íŒŒì¼ì„ ì„ íƒí•˜ê²Œ ë˜ë©´ í•˜ë‹¨ì— ë°”ì´ë„ˆë¦¬ë¡œ ì¶œë ¥í•˜ê²Œ ì´ë²¤íŠ¸ë¥¼ êµ¬í˜„í•˜ëŠ” FileEvent.html ìƒì„±í•´ ë´…ì‹œë‹¤.
* FileEvent.html íŒŒì¼ì„ ìƒì„±í•œ ë‹¤ìŒ ì´ë²¤íŠ¸ ì†ì„±ì„ ê°€ì§„ ìš”ì†Œë¡œ ë ˆì´ì•„ì›ƒì„ ì„¤ê³„ í•¨

```html
<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<title> File Event </title>
</head>
<body>
	<input id="files list" type="file" multiple onchange="FileInfo()">
	<p></p>
	<div id="output"> </div>
	<script src="eventjs.js"></script>
</body>
</html>
```

* eventjs.js íŒŒì¼ì„ ìƒì„±í•œ ë‹¤ìŒ íŒŒì¼ìš”ì†Œì˜ ì´ë²¤íŠ¸ ì½œë°± ë©”ì†Œë“œì™€ ErrorHandlerë¥¼ êµ¬í˜„í•  ë©”ì†Œë“œë¥¼ ì¶”ê°€í•¨&#x20;

```javascript
var files;
function FileInfo() {

}
function dumpFile(i) {

}
```

* Fileinfo( ) ë©”ì†Œë“œì— íŒŒì¼ì˜ ëª©ë¡ì„ í‘œì‹œí•  í…Œì´ë¸” ë ˆì´ì•„ì›ƒ ì½”ë“œë¥¼ ìƒì„±í•¨

```javascript
function Filetnfo() {
	files = document.getElementByid("files list").files;
	var output = document.getElementByld("output");

	while (output.childNodes.length != 0)
		output.removeChild(output.firstChild);

	var table = document.createElement("table");
	table.setattribute("border", "4");
	table.setattribute("cellPadding", "5");
	var tHead = document.createElement("tHead");
	table.appendchild(tHead);
	table.tHead.appendchild(document.createElement("tr"));

	var td = document.createElement("td");
	td.appendChild(document.createTextNode("Name"));
	table.tHead.rows[0].appendChild(td);
	td = document.createElement("td");
	td.appendChild(document.createTextNode("Size"));
	table.tHead.rows[0].appendchild(td);

	var tbody = document.createElement("tbody");
	table.appendchild(tbody);
}
```

* FileInfo() ë©”ì†Œë“œì— íŒŒì¼ì˜ ìš”ì†Œë§Œí¼ ëª©ë¡ì´ ì¶œë ¥ë˜ë„ë¡ êµ¬í˜„í•œ ì½”ë“œë¥¼ ì¶”ê°€í•¨

```javascript
// íŒŒì¼ ëª©ë¡ ë§Œí¼ ì¶œë ¥ë  ë ˆì´ì•„ì›ƒê³¼ ëª©ë¡ ì¶œë ¥
for ( var i = 0; i < files.length; i++) {
	table.tBodies[0].appendChild(document.createElement("tr"));
	td = document.createElement("td");
	var link = document.createElement("a");
	// ì˜¤ë¥˜ ì´ë²¤íŠ¸ê°€ ë°œìƒì²˜ë¦¬ì™€ ë°ì´íƒ€ë¥¼ í‘œì‹œí•  dumpFile ë©”ì†Œë“œë¥¼ link ì†ì„±ì— ì§€ì •
	link.setAttribute("href", "javascript:dumpFile(" + i + ")");
	link appendChild(document.createTextNode(files[i].name));
	td.appendChild(link);
	table.tBodies[0}.rows[i].appendChild(td);
	td = document.createElement("td");
	td.appendChild(document.createTextNode(files[i].size));
	table.tBodies[0].rows[i].appendChild(td);
	}
	output.appendchild(table);
	output.appendChild(document.createElement("p"));
}//File info End
```

### 3. FileWriter

#### FileWriter

| ì¸í„°í˜ì´ìŠ¤          | ê¸°ëŠ¥                           |
| -------------- | ---------------------------- |
| BlobBuilder    | > ë°”ì´ë„ˆë¦¬ ê°œì²´ë¥¼ ì“¸ ë•Œ ì‚¬ìš©            |
| FileSaver      | > Blobì˜ ë‚´ìš©ì„ ì €ì¥í•  ë•Œ ì‚¬ìš©         |
| FileWriter     | > ë¹„ë™ê¸° ì²˜ë¦¬ì—ì„œ íŒŒì¼ì— ì“°ê¸° / ì €ì¥í•  ë•Œ ì‚¬ìš© |
| FileWriterSync | > ë™ê¸°í™”í•˜ì—¬ íŒŒì¼ì— ì“°ê¸° / ì €ì¥í•  ë•Œ ì‚¬ìš©    |

* abort() : íŒŒì¼ì„ ì¤‘ë‹¨í•  ë•Œ í˜¸ì¶œ
* seek() : ì§€ì •ëœ ë°”ì´íŠ¸ì— íŒŒì¼ í¬ì¸í„°ë¡œ ì´ë™
* truncate(): ì§€ì •ëœ ê¸¸ì´ë¡œ íŒŒì¼ì„ ë‚´ìš©ì„ ì˜ë¼ëƒ„
* write() : UTF-8 ì¸ì½”ë”©ìœ¼ë¡œ íŒŒì¼ì— ë°ì´í„°ë¥¼ ê¸°ë¡í•¨

**FileWriterì˜ ì´ë²¤íŠ¸ ë©”ì†Œë“œ**

| ë©”ì†Œë“œ          | ê¸°ëŠ¥                                                   |
| ------------ | ---------------------------------------------------- |
| onwritestart | > ì“°ê¸°ê°€ ì‹œì‘ë  í˜¸ì¶œ                                         |
| onprogress   | > íŒŒì¼ì„ ì‘ì„±í•  ë•Œ í˜¸ì¶œ(progress.total / progress.loaded)ë¥¼ ë¦¬í„´ |
| onwrite      | > ìš”ì²­ì´ ì„±ê³µì ìœ¼ë¡œ ì™„ë£Œë˜ë©´ í˜¸ì¶œ                                  |
| onabort      | > ì“°ê¸°ê°€ ì¤‘ë‹¨ë˜ì—ˆì„ ë•Œ í˜¸ì¶œ                                     |
| onerror      | > ì“°ê¸°ê°€ ì‹¤íŒ¨í–ˆì„ ë•Œ í˜¸ì¶œ                                      |
| onwriteend   | > ìš”ì²­ì´ ì™„ë£Œë˜ë©´ 'ì„±ê³µ ì‹¤íŒ¨ ì¤‘'ì´ë¼ê³  ë¦¬í„´                           |

#### FileWriter

* FileWriterì˜ ê°œì²´ëŠ” **ì¥ì¹˜ íŒŒì¼ ì‹œìŠ¤í…œ (UTF-8 ì¸ì½”ë”©)ì— íŒŒì¼ì„ ì‘ì„±**í•˜ëŠ” ë°©ë²• -> ì‚¬ìš©ìëŠ” íŒŒì¼ì“°ê¸°, ì˜¤ë¥˜ ë° ì¤‘ì§€ ë“±ì˜ ì´ë²¤íŠ¸ë¥¼ ìˆ˜ì‹ í•˜ê¸° ìœ„í•´ ìì‹ ì˜ **ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆë¥¼ ë“±ë¡**í•´ì„œ ì‚¬ìš©í•¨
* í•˜ë‚˜ì˜ íŒŒì¼ì— ëŒ€í•´ ìƒì„±ë˜ë©° ê¸°ë³¸ì ìœ¼ë¡œ **íŒŒì¼ì˜ ì‹œì‘ë¶€í„° ë‚´ìš©ì„ ì‘ì„±í•˜ê³  ì†ì„±ê°’ì„ ì§€ì •**í•´ì„œ ì¬ì‹¤í–‰ ë  ë•Œ ì´ë²¤íŠ¸ê°€ í˜¸ì¶œë˜ë©´ ê¸°ì¡´ ë°ì´í„°ë¥¼ ë®ì–´ ì“°ê±°ë‚˜ ì—°ì´ì–´ ì“°ê²Œ ë¨
* íŒŒì¼ ê°ì²´ë¥¼ ìƒì„±í•˜ê¸° ì „ì— ë¡œì»¬ì— **ê°€ìƒ ë””ë ‰í† ë¦¬ë¥¼ ìƒì„±**í•œ ë‹¤ìŒ **ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬**ë¥¼ í†µí•´ ì—°ë™í•¨

```javascript
window.webkitRequestFileSystem(window.TEMPORARY, 5 * 1024 * 1024, onWriteFile, errorHandler);
```



â€» ê°€ìƒ ë””ë ‰í† ë¦¬ë¥¼ ìš”ì²­í•œ í›„ FileWriter ê°ì²´ë¥¼ ì´ìš©í•´ íŒŒì¼ì— ì“°ê¸° êµ¬í˜„

```javascript
function onWriteFile(fs){
	fs.root.getFile('test.txt', {create: true ,exclusive:false}, function(fileEntry) {
		fileEntry.createWriter(function(fileWriter) {
			fileWriter.seek(fileWriter.length);
			var blob = new Blob(['HI HTML5 !'], {type:'text/plain'});
			fileWriter.write(blob);
		}, errorHandler); 
	}, errorHandler);
}
```

#### DirectoryEntry & FileEntry

* DirectoryEntry : íŒŒì¼ ì‹œìŠ¤í…œì— ë””ë ‰í† ë¦¬
* FileEntry : íŒŒì¼ì‹œìŠ¤í…œì˜ íŒŒì¼
* ì†ì„±ê³¼ ë©”ì„œë“œë¥¼ í†µí•´ ë””ë ‰í† ë¦¬ì™€ íŒŒì¼ êµ¬ë¶„ -> ê°ê° ìƒì„±, ì‚­ì œ, ë³µì‚¬, ì´ë™ì„ í•˜ë©° FileReader, FileWriterê³¼ í•¨ê»˜ ì‚¬ìš©ë¨
* ì£¼ìš” ì†ì„±

> isFile : íŒŒì¼ì˜ ì—¬ë¶€ë¥¼ true/falseë¡œ ì§€ì •&#x20;
>
> isDirectory : ë””ë ‰í† ë¦¬ ì—¬ë¶€ë¥¼ true/falseë¡œ ì§€ì •&#x20;
>
> fullPath : ë£¨íŠ¸ì—ì„œì˜ ì „ì²´ ì ˆëŒ€ ê²½ë¡œë¥¼ ì§€ì •

DirectoryEntry & FileEntryì˜ ì£¼ìš” ë©”ì†Œë“œ&#x20;

| ë©”ì†Œë“œ                                                        | ê¸°ëŠ¥                          |
| ---------------------------------------------------------- | --------------------------- |
| MoveTo(parent, new name, successCallback, errorCallback ); | > íŒŒì¼ ì‹œìŠ¤í…œì—ì„œ ë‹¤ë¥¸ ìœ„ì¹˜ë¡œ ë””ë ‰í† ë¦¬ë¥¼ ì´ë™í•¨ |
| copyTo(parent,new name, successCallback, errorCallback );  | > íŒŒì¼ ì‹œìŠ¤í…œì˜ ë‹¤ë¥¸ ìœ„ì¹˜ë¡œ ë””ë ‰í† ë¦¬ë¥¼ ë³µì‚¬í•¨  |
| toURI()                                                    | > ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” URIë¥¼ ë°˜í™˜í•¨         |
| remove(successCallback, errorCallback);                    | > ë¹„ì–´ ìˆëŠ” ë””ë ‰í† ë¦¬ë¥¼ ì‚­ì œí•¨           |
| getDirectory(ê²½ë¡œ, flag, successCallback, errorCallback);    | > ë””ë ‰í† ë¦¬ ìƒì„± ë° ë¦¬í„´í•¨             |
| getFile(ê²½ë¡œ, flag, successCallback, errorCallback);         | > íŒŒì¼ ìƒì„± ë° ë¦¬í„´í•¨               |



### Epilogue > Quiz

ì˜¤ëŠ˜ ë°°ìš´ ë‚´ìš©ì„ í€´ì¦ˆë¥¼ í†µí•´ ì •ë¦¬í•´ ë³´ì„¸ìš”.

1. ìœˆë„ìš°ì— ìƒì„±ëœ ë””ë ‰í† ë¦¬ë¥¼ ì‚­ì œ í•˜ë ¤ë©´ \_\_\_\_\_ì— ìˆœì„œì ìœ¼ë¡œ ë“¤ì–´ê°€ì•¼ í•˜ëŠ” ì½”ë“œëŠ” ë¬´ì—‡ì¸ê°€?

```javascript
function __(A)__(entry) {
	console.log("Removal succeeded");
}
function __(B)__(error) {
	alert('Error removing directory:' + error.code);
}
entry.__(C)__ (__(D)__, __(E)__):
```

1. success(A) -> fail(B) -> remove(C) -> success(D)-> fail(E)
2. success(A)-> success(B) -> remove(C) -> success(D)-> remove(E)
3. success(A) -> fail(B) -> remove(C) -> fail(D) -> success(E)
4. success(A) -> success(B) -> remove(C) -> success(D)-> remove(E)



DirectoryEntryì˜ ì†ì„±ê³¼ ëœ»ì„ ë‹¤ë¥´ê²Œ ì„¤ëª… í•œ ê²ƒì€?

1. isFile : íŒŒì¼ì˜ ì—¬ë¶€ë¥¼ true/falseë¡œ ë¦¬í„´í•œë‹¤.
2. isDirectory : ë””ë ‰í† ë¦¬ì˜ ì—¬ë¶€ë¥¼ true/falseë¡œ ë¦¬í„´í•œë‹¤.
3. name : ë””ë ‰í† ë¦¬ì˜ ì´ë¦„ì„ ë¦¬í„´í•œë‹¤.
4. fullpath : ë£¨íŠ¸ì—ì„œì˜ ì „ì²´ ìƒëŒ€ ê²½ë¡œë¥¼ ë¦¬í„´ í•˜ê±°ë‚˜ ì§€ì •í•œë‹¤.



Fileì˜ ì†ì„±ì´ ì•„ë‹Œ ê²ƒì€?
1. Name
2. toURL
3. fullPath
4. lastModifiedDate

## Epilogue > summary 
ì˜¤ëŠ˜ í•™ìŠµë‚´ìš©ì„ ë‹¤ì‹œ í•œë²ˆ ì •ë¦¬í•´ ë³´ì„¸ìš”.

### 1. File APIë€?
	1. HTML5 File APIë€?
	* ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ë¡œì»¬ íŒŒì¼ì˜ ë‚´ìš©ì— ì ‘ê·¼í•  ìˆ˜ ìˆë„ë¡ í•˜ëŠ” API
	* ë¡œì»¬ì— ì €ì¥ë˜ì–´ìˆëŠ” íŒŒì¼ì˜ ì†ì„±ê³¼ ë‚´ìš©ì„ ê²€ìƒ‰í•˜ëŠ” API
	* File APIì—ì„œ ì œê³µí•˜ëŠ” ì¸í„°í˜ì´ìŠ¤

	2. íŒŒì¼ì˜ ì†ì„± ì •ë³´
	
	| ì†ì„±/ë©”ì†Œë“œ	 		| ê¸°ëŠ¥
	-- | --
	| name			 		| > File ì´ë¦„
	| type			 		| > Fileì˜ MIME Type(ì•Œ ìˆ˜ ì—†ì„ ë•ŒëŠ” null)
	| um			 		| > Fileì˜ ë²”ìš© ì‹ë³„ì
	| size			 		| > ë°”ì´íŠ¸ ë‹¨ìœ„ì˜ íŒŒì¼ í¬ê¸°
	| slice(start, length)	| > ì‹œì‘ ìœ„ì¹˜ì™€ ëìœ„ì¹˜ë¥¼ ì§€ì •í•˜ì—¬ íŒŒì¼ì˜ ë‚´ìš©ì„ ì˜ë¼ë‚´ ìƒˆë¡œìš´ Blobê°ì²´ë¥¼ ë§Œë“œëŠ” í•¨ìˆ˜

### 2. FileReader
1. FileReader
FileReader
* íŒŒì¼ì„ ì½ëŠ” FileReaderê°ì²´
	: read()ë©”ì„œë“œë¥¼ ì´ìš©í•´ì„œ Fileì˜ ê°ì²´ë¥¼ ì¸ìˆ˜ë¡œ ëŒ€ì…í•´ì„œ ì½ê¸°ë„ í•˜ì§€ë§Œ File ëŒ€ì‹ 
	ê·¸ ë¶€ëª¨ í´ë˜ìŠ¤ì— í•´ë‹¹í•˜ëŠ” Blobí˜•ì˜ ê°ì²´ë¥¼ ì¸ìˆ˜ë¡œ ëŒ€ì…í•´ì„œ ì½ëŠ” ê²ƒë„ ê°€ëŠ¥í•¨

* Blob ê°ì²´
	: ì›ê²©ì—ì„œ ì „ì†¡ë˜ì–´ ì˜¨ ë°ì´í„°ì™€ íŒŒì¼ ë°ì´í„°ë¥¼ ë¶€ë¶„ì ìœ¼ë¡œ ìë¥¸ ê²ƒ ê°™ì´ ì²˜ë¦¬ë˜ë©°
	í†µì‹  ë° ì…ì¶œë ¥ì˜ API ë“±ìœ¼ë¡œ ì‚¬ìš©ë˜ê¸°ë„ í•¨

2. Fileì˜ ì˜¤ë¥˜ ì²˜ë¦¬
* ì§€ì •ëœ íŒŒì¼ì„ ì½ì–´ì„œ ì²˜ë¦¬í•˜ëŠ” FileReaderì˜ ê°ì²´ëŠ” íŒŒì¼ì„ ì½ì–´ë“¤ì´ëŠ” ê³¼ì •ì—ì„œ ì˜¤ë¥˜ ì‹œ
ì´ë²¤íŠ¸ ì²˜ë¦¬ê¸°ë¥¼ ì‘ì„±í•˜ë„ë¡ ì†ì„±ì„ ê°ì²´ì˜ error ì†ì„±ì˜ codeë“¤ë¡œ ì—°ë™í•  ìˆ˜ ìˆë„ë¡ ë˜ì–´ìˆìŒ

### 3. FileWriter
1. FileWriter

| ì¸í„°í˜ì´ìŠ¤ 		 | ê¸°ëŠ¥
-- | --
| BlobBuilder		| > ë°”ì´ë„ˆë¦¬ ê°œì²´ë¥¼ ì“¸ ë•Œ ì‚¬ìš©
| FileSaver			| > Blobì˜ ë‚´ìš©ì„ ì €ì¥í•  ë•Œ ì‚¬ìš©
| FileWriter		| > ë¹„ë™ê¸° ì²˜ë¦¬ì—ì„œ íŒŒì¼ì— ì“°ê¸° / ì €ì¥í•  ë•Œ ì‚¬ìš©
| FileWriterSync	| > ë™ê¸°í™”í•˜ì—¬ íŒŒì¼ì— ì“°ê¸° / ì €ì¥í•  ë•Œ ì‚¬ìš©

2. DirectoryEntry & FileEntry
* DirectoryEntry : íŒŒì¼ ì‹œìŠ¤í…œì— ë””ë ‰í† ë¦¬
* FileEntry : íŒŒì¼ì‹œìŠ¤í…œì˜ íŒŒì¼
* ì†ì„±ê³¼ ë©”ì„œë“œë¥¼ í†µí•´ ë””ë ‰í† ë¦¬ì™€ íŒŒì¼ êµ¬ë¶„ -> ê°ê° ìƒì„±, ì‚­ì œ, ë³µì‚¬, ì´ë™ì„ í•˜ë©° FileReader, FileWriterê³¼ í•¨ê»˜ ì‚¬ìš©ë¨
* ì£¼ìš” ì†ì„±
	> isFile : íŒŒì¼ì˜ ì—¬ë¶€ë¥¼ true/falseë¡œ ì§€ì •
	> isDirectory : ë””ë ‰í† ë¦¬ ì—¬ë¶€ë¥¼ true/falseë¡œ ì§€ì •
	> fullPath : ë£¨íŠ¸ì—ì„œì˜ ì „ì²´ ì ˆëŒ€ ê²½ë¡œë¥¼ ì§€ì •
