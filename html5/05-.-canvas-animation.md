---
description: ğŸ±â€ğŸ 05ì¥. Canvasì—ì„œ ë‹¤ì´ë‚˜ë¯¹ ì• ë‹ˆë©”ì´ì…˜ ë§Œë“¤ê¸°
---

# ğŸ¥‡ ğŸ±â€ğŸ 05ì¥. Canvas Animation

{% file src="../.gitbook/assets/05_canvasAnimation.zip" %}
5ì¥.example
{% endfile %}

### ğŸ¯ Prologue > Pre-quiz

í•™ìŠµì„ ì‹œì‘í•˜ê¸°ì— ì•ì„œ, ì–¼ë§ˆë‚˜ ì•Œê³  ìˆëŠ”ì§€ í™•ì¸í•´ ë´…ì‹œë‹¤.

**Q1. êµ¬í˜„ë˜ëŠ” í…ìŠ¤íŠ¸ëŠ” ê¸€ìì˜ í¬ê¸°, ê¸€ê¼´, ì •ë ¬ì„ ì§€ì¥í•˜ëŠ” ì†ì„±ê³¼ ë„“ì´ ì™¸ê³½ì„  ë“±ì„ ì²˜ë¦¬í•˜ëŠ” ë©”ì†Œë“œë¡œ êµ¬ì„±ëœë‹¤.**

1. ì˜ˆ 2. ì•„ë‹ˆì˜¤

**Q2. ìº”ë²„ìŠ¤ì˜ ì´ë¯¸ì§€ í‘œí˜„ì€ ì´ë¯¸ì§€ íŒŒì¼ì„ `<img>` ìš”ì†Œì— ì ‘ëª©í•´ì„œ ì‚¬ìš©í•˜ëŠ” ê²ƒì„ ë§í•œë‹¤.**

1. ì˜ˆ 2. ì•„ë‹ˆì˜¤

**Q3. ìº”ë²„ìŠ¤ì—ì„œëŠ” ë‹¤ì´ë‚˜ë¯¹í•œ ì´ë¯¸ì§€ë¥¼ ì—°ë™í•˜ê¸° ìœ„í•´ íšŒì „, í¬ê¸°, ìœ„ì¹˜ ë³€ê²½, ê°ë„ ë³€ê²½ ë“±ì„ êµ¬í˜„í•˜ëŠ” ë©”ì†Œë“œë“¤ì„ ì§€ì›í•œë‹¤.**

1. ì˜ˆ 2. ì•„ë‹ˆì˜¤



### ğŸ‘â€ğŸ—¨ í•™ìŠµëª©í‘œ

1. ìº”ë²„ìŠ¤ì—ì„œ í‘œì‹œë˜ëŠ” í…ìŠ¤íŠ¸ì™€ ê·¸ë¦¼ì ê¸°ëŠ¥ì„ í™œìš©í•  ìˆ˜ ìˆë‹¤.
2. ì´ë¯¸ì§€ ê°ì²´ë¥¼ ìƒì„±í•´ì„œ ì´ë¯¸ì§€ë¥¼ ìº”ë²„ìŠ¤ì— í‘œí˜„í•  ìˆ˜ ìˆë‹¤.
3. ë‹¤ì´ë‚˜ë¯¹í•œ ì´ë¯¸ì§€ë¥¼ ì—°ë™í•˜ê¸° ìœ„í•´ íšŒì „, í¬ê¸°, ìœ„ì¹˜ ë³€ê²½ ë“±ì„ êµ¬í˜„í•  ìˆ˜ ìˆë‹¤.

### ğŸ’Œ í•™ìŠµë‚´ìš©

1. í…ìŠ¤íŠ¸ì™€ ê·¸ë¦¼ìê¸°ëŠ¥
2. ì´ë¯¸ì§€ í‘œí˜„
3. ì• ë‹ˆë©”ì´ì…˜ ê¸°ëŠ¥

### 1. ìº”ë²„ìŠ¤ì˜ Textì™€ ê·¸ë¦¼ì í‘œí˜„

#### ìº”ë²„ìŠ¤ì˜ Text

* ê¸€ìì˜ í¬ê¸°, ê¸€ê¼´, ì •ë ¬ì„ ì§€ì •í•˜ëŠ” ì†ì„±ê³¼ ì§€ì •ëœ ìƒ‰ìœ¼ë¡œ ê¸€ìë¥¼ ì±„ìš°ê±°ë‚˜ ì™¸ê³½ì„  ì²˜ë¦¬ ë° ì£¼ì–´ì§„ ë¬¸ìì—´ì˜ í”½ì…€ ë„“ì´ë¥¼ ë°˜í™˜í•˜ëŠ” ë©”ì†Œë“œë“¤ë¡œ êµ¬ì„±ë˜ì–´ ìˆìŒ

| ì†ì„±                                                                             | ê¸°ëŠ¥                                                           |
| ------------------------------------------------------------------------------ | ------------------------------------------------------------ |
| font                                                                           | > í˜„ì¬ì˜ ê¸€ê¼´ ì†ì„±ì„ ì§€ì •                                              |
| textAlign="center \| end \| left \| right \| start"                            | > í…ìŠ¤íŠ¸ì˜ ì •ë ¬ì„ ì§€ì • default : start                                |
| textBaseline="alphabetic \| top \| hanging \| middle \| ideographic \| bottom" | <p>> í…ìŠ¤íŠ¸ê°€ í‘œì‹œë  ë•Œ ì‚¬ìš©ë˜ëŠ” ìˆ˜ì§ BBS ì§€ì •<br>> Default : alphabetic</p> |

| ë©”ì†Œë“œ                         | ê¸°ëŠ¥                                   |
| --------------------------- | ------------------------------------ |
| fillText(text,x,y,maxWidth) | fillStyleì— ì§€ì •ëœ ìƒ‰ì„ í…ìŠ¤íŠ¸ì˜ ë‚´ë¶€ì— ì±„ì›Œ ê·¸ë ¤ëƒ„    |
| (text,x,y,maxWidth)         | ì™¸ê³½ì„  ìƒ‰ì„ strokeStyleì— ì§€ì •ëœ ìƒ‰ìœ¼ë¡œ í…ìŠ¤íŠ¸ë¥¼ ê·¸ë ¤ëƒ„ |
| measureText(text).width     | ì£¼ì–´ì§„ í…ìŠ¤íŠ¸ ë¬¸ìì—´ì˜ í”½ì…€ì˜ ë„“ì´ë¥¼ ë°˜í™˜í•¨             |

```html
<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<title>ìº”ë²„ìŠ¤ë‚´ì˜ í…ìŠ¤íŠ¸</title>
<script>
	window.onload = function() {
		var element = document.getElementById('hello');
		var context = element.getContext('2d');
		context.font = '30pt ë§‘ì€ê³ ë”•';		
		context.fillText('Hello Canvas', 250, 250);
	}
</script>
</head>
<body>
	<canvas id="hello" width="500" height="500"></canvas>
</body>
</html>
```

#### ìº”ë²„ìŠ¤ì˜ ê·¸ë¦¼ì í‘œí˜„

* ìº”ë²„ìŠ¤ì˜ ê·¸ë¦¼ì í‘œí˜„ì€ ë„í˜•, ì´ë¯¸ì§€, í…ìŠ¤íŠ¸ì— ê°ê° ì ìš©ë˜ë©° ì†ì„±ì„ ì´ìš©í•˜ì„œ ì—°ë™ë¨

| ì†ì„±            | ê¸°ëŠ¥                              |
| ------------- | ------------------------------- |
| shadowColor   | ê·¸ë¦¼ìì˜ ìƒ‰ìƒì„ ì½”ë„ˆì— ì§€ì • default : black |
| shadowBlur    | ê·¸ë¦¼ìì˜ íë¦¼ì„ ì§€ì • default : 0         |
| shadowOffsetX | ê·¸ë¦¼ìì˜ ìˆ˜í‰ ê±°ë¦¬ë¥¼ ë°˜í™˜ default : 0      |
| shadowOffsetY | ê·¸ë¦¼ìì˜ ìˆ˜ì§ ê±°ë¦¬ë¥¼ ë°˜í™˜ default : 0      |

```html
<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<title>ìº”ë²„ìŠ¤ë‚´ì˜ ê·¸ë¦¼ì</title>
<script>
	window.onload = function() {
		var element = document.getElementById('shadowBlur');
		var ctx = element.getContext('2d');
		ctx.shadowBlur = 10;
		ctx.shadowOffsetX = 20;
		ctx.shadowOffsetY = 20;
		ctx.shadowColor = 'pink';
		ctx.fillStyle = 'red';
		ctx.fillRect(20, 20, 100, 80);
	}
</script>
</head>
<body>
	<canvas id="shadowBlur" width="500" height="500"></canvas>
</body>
</html>
```

### 2. ì´ë¯¸ì§€ í‘œí˜„

#### ì´ë¯¸ì§€ì˜ ì •ì˜

* ìº”ë²„ìŠ¤ì— ì´ë¯¸ì§€ë¥¼ ë‚˜íƒ€ë‚´ëŠ” ê²ƒ
* ìº”ë²„ìŠ¤ì—ì„œëŠ” ì´ë¯¸ì§€ë¥¼ ê°ì²´í™”í•´ì„œ ì‚¬ìš©ë˜ëŠ” ë©”ì†Œë“œë“¤ì„ ì œê³µí•¨
* ìƒì„±ëœ ì´ë¯¸ì§€ëŠ” ì• ë‹ˆë©”ì´ì…˜ì„ ì—°ë™í•˜ëŠ” ë©”ì†Œë“œì— ë”°ë¼ íšŒì „, ëŠ˜ì„ê³¼ ì¤„ì„ ë“± ë‹¤ì–‘í•œ í‘œí˜„ì‹ìœ¼ë¡œ ì‚¬ìš©ë¨

#### ì´ë¯¸ì§€ë¥¼ í‘œí˜„í•  ë•Œ ì‚¬ìš©ë˜ëŠ” ì†ì„±

* ì´ë¯¸ì§€ì˜ ë„“ì´ë¥¼ ì§€ì •í•˜ëŠ” width, ì´ë¯¸ì§€ì˜ ë†’ì´ë¥¼ ì§€ì •í•˜ëŠ” height, ì´ë¯¸ì§€ê°€ ê°€ì§„ í”½ì…€ì„ RGBA ìˆœì„œì¸ ë°°ì—´ë¡œ ê´€ë¦¬ë˜ëŠ” data ì†ì„±ì´ ìˆìŒ

| ë©”ì†Œë“œ                                                                                                                                                                                                                                                                                                                             | ê¸°ëŠ¥                                                                                                                          |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------- |
| drawImage(img,x,y,width,height)                                                                                                                                                                                                                                                                                                 | ì§€ì •ëœ ì´ë¯¸ì§€ë¥¼ x,y ì¢Œí‘œì— í­ê³¼ ë†’ì´ë§Œí¼ ê·¸ë ¤ëƒ„                                                                                                |
| drawImage(img,sx,sy,swidth,sheight,x,y,width height);                                                                                                                                                                                                                                                                           | <p>ì§€ì •ëœ ì´ë¯¸ì§€(img)ì„ x,y ì¢Œí‘œì—ì„œ ì‹œì‘í•´ì„œ width, height ë§Œí¼ì˜ ì´ë¯¸ì§€ë¥¼ ë“œë¡œìš°í•œ ë‹¤ìŒ í´ë¦½í•‘<br>ì‹œì‘í•˜ëŠ” ì¢Œí‘œ sx,syë¥¼ ì¡ê³  swidth, sheight ì˜ì—­ë§Œí¼ í´ë¦½í•‘ í¬ê¸°ë¥¼ ì§€ì •í•¨</p> |
| createImageData(width, height)                                                                                                                                                                                                                                                                                                  | ì§€ì •ëœ í­ê³¼ ë„“ì´ë¡œ ì´ë¯¸ì§€ ë°ì´í„° ê°ì²´ë¥¼ ìƒì„±í•¨                                                                                                  |
| createImageData(imageData)                                                                                                                                                                                                                                                                                                      | <p>ì§€ì •ëœ ì´ë¯¸ì§€ì— ì˜í•´ ì§€ì •ëœ ê°ì²´ì™€ ë™ì¼í•œ í¬ê¸°ë¡œ ìƒˆ ImageData ê°œì²´ë¥¼ ë§Œë“¦<br>(ë‹¨, ì§€ì •ëœ ì´ë¯¸ì§€ ë°ì´í„°ë¥¼ ë³µì‚¬í•˜ì§€ ì•ŠìŒ)</p>                                          |
| <p>getimageData(x,y,width, height)<br>x : ì™¼ìª½ ìƒë‹¨ ëª¨ì„œë¦¬ì˜ x ì¢Œí‘œì—ì„œ ë³µì‚¬ë¥¼ ì‹œì‘<br>y : ì™¼ìª½ ìƒë‹¨ ëª¨ì„œë¦¬ì˜ y ì¢Œí‘œì—ì„œ ë³µì‚¬ë¥¼ ì‹œì‘<br>width : ì§ì‚¬ê°í˜• ì˜ì—­ì˜ í­ë§Œí¼ ë³µì‚¬ë¨<br>height : ì§ì‚¬ê°í˜• ì˜ì—­ì˜ ë†’ì´ë§Œí¼ ë³µì‚¬ë¨</p>                                                                                                                                                                | ìº”ë²„ìŠ¤ì— ì§€ì •ëœ ì‚¬ê°í˜•ì˜ í”½ì…€ ë°ì´í„°ë¥¼ ë³µì‚¬í•´ì„œ ImageData ê°ì²´ë¥¼ ë°˜í™˜í•¨                                                                                |
| <p>putImageData(imgData,X,Y,dirtyX,dirtyY,dirtyWidth,dirtyHeight)<br>imgData : ì›ë³¸ ImageData<br>X : ImageData ê°œì²´ì˜ ì™¼ìª½ ìƒë‹¨ ëª¨ì„œë¦¬ì˜ í”½ì…€ x ì¢Œí‘œ<br>Y : ImageData ê°œì²´ì˜ ì™¼ìª½ ìƒë‹¨ ëª¨ì„œë¦¬ì˜ í”½ì…€ y ì¢Œí‘œ<br>dirtyX : ìº”ë²„ìŠ¤ì— ì´ë¯¸ì§€ë¥¼ ë°°ì¹˜í•˜ëŠ” í”½ì…€ì˜ ê°€ë¡œ(X) ê°’<br>dirtyY : ìº”ë²„ìŠ¤ì— ì´ë¯¸ì§€ë¥¼ ë°°ì¹˜í•˜ëŠ” í”½ì…€ì˜ ìˆ˜ì§(Y) ê°’<br>dirtyWidth : ìº”ë²„ìŠ¤ì— ê·¸ë ¤ë‚¼ ì´ë¯¸ì§€ì˜ í­<br>dirtyHeight : ìº”ë²„ìŠ¤ì— ê·¸ë ¤ë‚¼ ì´ë¯¸ì§€ì˜ ë†’ì´</p> | íŠ¹ì • ImageData ê°œì²´ë¥¼ ë‹¤ë¥¸ ì¢Œí‘œì˜ ìº”ë²„ìŠ¤ì— ì´ë¯¸ì§€ ë°ì´í„°ë¥¼ ê·¸ë ¤ëƒ„                                                                                   |

#### ì´ë¯¸ì§€ ìƒì„±ê³¼ ì˜ë¼ë‚´ê¸°

1. ì´ë¯¸ì§€ ìƒì„±

* ì´ë¯¸ì§€ ìƒì„± : drawImage(img, x, y, width, height ) ë©”ì†Œë“œ
* "pcat.png" ì´ë¯¸ì§€ íŒŒì¼ì„ 0, 0ì˜ x, y ì¢Œí‘œì—ì„œ 400, 400ì˜ ì¢Œí‘œí¬ê¸°ê¹Œì§€ í‘œì‹œí•˜ë ¤ë©´ ì•„ë˜ì™€ ê°™ì´ ì§€ì •í•  ìˆ˜ ìˆìŒ.

```js
image = new image();
image.src = 'pcat.png';
drawImage ( image, 0, 0, 400, 400 );
```

#### ì´ë¯¸ì§€ ì˜ë¼ë‚´ê¸°

1. ì´ë¯¸ì§€ ì˜ë¼ë‚´ê¸° : drawImage( img, sx, sy, swidth, sheight, x, y, width, height ) ë©”ì†Œë“œ

* ì›ë³¸ì´ë¯¸ì§€ë¡œë¶€í„° sx, sy ë§Œí¼ ë–¨ì–´ì§„ ìœ„ì¹˜ë¡œë¶€í„° swidth, sheight í¬ê¸°ë¡œ ì˜ë¼ì„œ, x, y ìœ„ì¹˜ì— width, height í¬ê¸°ë¡œ ì´ë¯¸ì§€ ì¶œë ¥í•˜ë©´ ë¨.
* pcat.png ì´ë¯¸ì§€ì— ë‘ë§ˆë¦¬ì˜ ê³ ì–‘ì´ë§Œ ì˜ë¼ì„œ í‘œì‹œí•˜ê³  ì‹¶ë‹¤ë©´ ì½”ë“œë¥¼ ì•„ë˜ì™€ ê°™ì´ í‘œì‹œí•  ìˆ˜ ìˆìŒ.

```js
var img = new Image();
img.src = 'pcat.png';
img.onload = function ( ){ 
	ctx.drawImage( img, 100, 50, 150, 200, 30, 30, 150, 200 )
}
```

#### ìº”ë²„ìŠ¤ ë“œë¡œì‰ ìƒíƒœ ì €ì¥

|       ë©”ì†Œë“œ | ê¸°ëŠ¥                                   |
| --------: | ------------------------------------ |
|    save() | í˜„ì¬ì˜ ìƒíƒœë¥¼ ì €ì¥                           |
| restore() | ì €ì¥ë˜ì–´ ìˆëŠ” ìƒíƒœë¥¼ ìŠ¤íƒì˜ ê°€ì¥ ë§ˆì§€ë§‰ì— ì„¤ì •ëœ ë‚´ìš©ë¶€í„° ê°€ì ¸ì˜´ |

```html
<hr>
<canvas id='imgView' width='300' height='300'> Canvas not supported </canvas>
<div>
	<output > 1.0</output>
	<input id='imgViewSlider' type='range' size="50" min='1' max='2.0' step='0.01' value='1.0'/>
	<output> 2.0</output>    
</div>

<script type="text/javascript">
	var canvas = document.getElementById( 'imgView');
	context = canvas.getContext( '2d' );
	scaleSlider = document.getElementById( 'imgViewSlider');

	image = new Image();
	image.src = 'pcat.png';
	scale = 1.0;
	MINIMUM = 1.0;
	MAXIMUM = 2.0;

	function drawImage( ) {
		var w = canvas.width, h = canvas.height, sw = w * scale, sh = h * scale;
		context.clearRect( 0, 0, canvas.width, canvas.height );
		context.drawImage( image, -sw / 2 + w / 2, -sh / 2 + h / 2, sw, sh);
	}

	scaleSlider.onchange = function (e) {
		scale = e.target.value;
		if ( scale < MINIMUM ) scale = MINIMUM;
		else if ( scale > MAXIMUM ) scale = MAXIMUM;
		drawImage( );
	}

	image.onload = function( e ) {
		drawImage();
	}
</script>
```

### 3. ë™ì ì¸ ì—ë‹ˆë©”ì´ì…˜

#### ë‹¤ì´ë‚˜ë¯¹í•œ ì´ë¯¸ì§€ë¥¼ ìœ„í•œ ë©”ì†Œë“œ

ìº”ë²„ìŠ¤ì—ì„œëŠ” ë‹¤ì´ë‚˜ë¯¹í•œ ì´ë¯¸ì§€ë¥¼ ì—°ë™í•˜ê¸° ìœ„í•´ íšŒì „, í¬ê¸°, ìœ„ì¹˜, ë³€ê²½, ê°ë„ ë³€ê²… ë“±ì„ êµ¬í˜„í•˜ëŠ” ë©”ì†Œë“œë“¤ì„ ì§€ì›í•¨.

| ë©”ì†Œë“œ                               | ê¸°ëŠ¥                                |
| --------------------------------- | --------------------------------- |
| scale( scalewidth, scaleheight )  | ê°ì²´ì´ë¯¸ì§€ì˜ í¬ê¸°ë¥¼ ë³€í™˜ì‹œí‚´                   |
| rotate( angle )                   | ê°ì²´ì´ë¯¸ì§€ì˜ ê°ë„ë¥¼ ë³€í™˜ì‹œí‚´                   |
| translate( x, y )                 | ê°ì²´ì´ë¯¸ì§€ì˜ ìœ„ì¹˜ë¥¼ ë³€í™˜ì‹œí‚´                   |
| transform ( a, b, c, d, e, f )    | ê°ì²´ì´ë¯¸ì§€ì˜ í–‰ë ¬ì„ ë³€í™˜ì‹œí‚´                   |
| setTransform ( a, b, c, d, e, f ) | ê°ì²´ì´ë¯¸ì§€ì˜ ìˆ˜í‰ê³¼ ìˆ˜ì§ìƒíƒœ, ì¦‰ í–‰ë ¬ê°’ì„ ì§€ì •í•  ìˆ˜ ìˆìŒ. |

#### 01. scale( scalewidth, scaleheight ) ë©”ì†Œë“œ

* scale( 2, 2)ë¥¼ ì§€ì •
* ì›ë³¸ ì´ë¯¸ì§€ë¥¼ 200%ë¡œ ëŠ˜ë ¤ì„œ í‘œì‹œí•¨

```js
image.onload = function () {
	context .drawImage( img, 50, 50 );
	context.scale( 2, 2 );		// ì›ë³¸ì´ë¯¸ì§€ë¥¼ 200%ë¡œ ëŠ˜ë ¤ì„œ í‘œì‹œí•¨.
	context.drawImage ( img, 100, 100 );
}
```

#### 02. rotae ( angle ) ë©”ì†Œë“œ

* rotate ( 45 \* Math.PI / 180 ) ì„ ì§€ì •
* ì´ë¯¸ì§€ë¥¼ 45ë„ íšŒì „ì‹œí‚´

```js
context.rotate( 45 * Math.PI / 180 );
context.drawImage( img, 250, 50 );
```

```html
<hr>
<div id='controls1'>        
<input id='scaleCheckbox' type='checkbox'/> Scale image to canvas
</div>
<canvas id='scaleCheckCanvas' width='200' height='200'> Canvas not supported  </canvas>
<script>
var canvas1 = 	document.getElementById('scaleCheckCanvas'), 
				context1 = canvas1.getContext('2d'), 
				image1 = new Image(),
				scaleCheckbox = document.getElementById('scaleCheckbox');

function drawImageScale() {
	context1.clearRect(0, 0, canvas1.width, canvas1.height);
	if (scaleCheckbox.checked) {
		context1.drawImageScale(image1, 0, 0, canvas1.width, canvas1.height);
	} else {
		context1.drawImageScale(image1, 0, 0);
	}
	context1.restore();
}

scaleCheckbox.onchange = function(e) {
	drawImageScale();
};

image1.src = 'pcat.png';
image1.onload = function(e) {
	drawImageScale();
};

</script>
```

#### 03. translate(x,y) ë©”ì†Œë“œ

* translate(200, 200)ì„ ì§€ì •
* 250,250ì˜ x, yì¢Œí‘œì— ê°™ì€ ì´ë¯¸ì§€ë¥¼ ê·¸ë ¤ë‚´ë„ë¡ í•¨

```js
context.drawlmage(img,50,50);
context. translate(200,200);
context.drawlmage(img,50,50);
```

```html
<!-- aniexam.html -->
<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="EUC-KR">
<title>AniView</title>
</head>
<body>  
     <canvas id='canvas' width='500' height='500'>
        Canvas not supported
     </canvas>      
     <script src='aniexam.js'></script>
  </body>
</html>
```

```js
<!-- aniexam.js -->
window.requestAnimFrame = (function(callback) {
	return window.requestAnimationFrame || window.webkitRequestAnimationFrame
			|| window.mozRequestAnimationFrame || window.oRequestAnimationFrame
			|| window.msRequestAnimationFrame || function(callback) {
				window.setTimeout(callback, 1000 / 60);
			};
})();

requestAnimFrame(function() {
	aniview(value, time);
});
// ìº”ë²„ìŠ¤ ê°ì²´ì™€ ì»¨í…ìŠ¤íŠ¸ë¥¼ ë¦¬í„´ë°›ì•„ ì‹œê°„ê³¼ íšŒì „ì„ ì´ìš©í•œ ì´ë¯¸ì§€ë¥¼ ì—°ë™í•˜ëŠ” ì½”ë“œë¥¼ ê°€ì§„ aniview() ì‚¬ìš©ì ë©”ì†Œë“œë¥¼ ì¶”ê°€í•¨
function aniview(value, lastTime) {
	var canvas = document.getElementById("canvas");
	var context = canvas.getContext("2d");
	var date = new Date();
	var time = date.getTime();
	var timediff = lastTime - time;
	value.ta += timediff * value.rotationSpeed / 1000;
	var img = new Image();
	img.src = 'cat.png';
	context.clearRect(0, 0, canvas.width, canvas.height);
	context.save();
	context.translate(canvas.width / 2, canvas.height / 2);
	context.scale(1, Math.sin(value.ta / 2));
	context.rotate(value.ta);
	context.drawImage(img, -value.width / 2, -value.height / 2, value.width,
			value.height);
	context.restore();
	requestAnimFrame(function() {
		aniview(value, time);
	});
}

// window.onloadì— ì´ˆê¸°ê°’ê³¼ ì‹œê°„ê°’ì„ ì´ˆê¸°í™”í•´ì„œ ë ˆì´ì•„ì›ƒì„ ì‹¤í–‰ë  ì‚¬ìš©ì ë©”ì†Œë“œì¸ aniview()ë¥¼ í˜¸ì¶œí•˜ëŠ” ì½”ë“œë¥¼ ì¶”ê°€í•¨
window.onload = function() {
	var initvalue = {
		width : 200,
		height : 100,
		ta : 0,
		rotationSpeed : 3
	};
	var date = new Date();
	var time = date.getTime();
	aniview(initvalue, time);
};
```

#### ì´ë¯¸ì§€ì˜ í™•ëŒ€ ì¶•ì†Œ ì˜ˆì œ

```html
// imgview.html
<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="EUC-KR">
<title>ImgView</title>
</head>
<body>  
	<canvas id='canvas' width='300' height='300'>
		Canvas not supported
	</canvas>
		<div>
		<output > 1.0</output>
		<input id='Slider' type='range' size="50"
				min='1' max='2.0' step='0.01' value='1.0'/>
			<output> 2.0</output>    
	</div>
	<script src='imgview.js'></script>
</body>
</html>
```

```js
// imgview.js
var canvas = document.getElementById('canvas');
context = canvas.getContext('2d');
scaleSlider = document.getElementById('Slider');

image = new Image();
image.src = 'pcat.png';
scale = 1.0;
MINIMUM = 1.0;
MAXIMUM = 2.0;

function drawImage() {
	var w = canvas.width, h = canvas.height, sw = w * scale, sh = h * scale;
	context.clearRect(0, 0, canvas.width, canvas.height);
	context.drawImage(image, -sw / 2 + w / 2, -sh / 2 + h / 2, sw, sh);
}
scaleSlider.onchange = function(e) {
	scale = e.target.value;
	if (scale < MINIMUM)
		scale = MINIMUM;
	else if (scale > MAXIMUM)
		scale = MAXIMUM;
	drawImage();
};

image.onload = function(e) {
	drawImage();
};
```

### Epilogue > Quiz

ì˜¤ëŠ˜ ë°°ìš´ ë‚´ìš©ì„ í€´ì¦ˆë¥¼ í†µí•´ ì •ë¦¬í•´ ë³´ì„¸ìš”.

**Q1 ë‹¤ìŒì€ ê·¸ë¦¼ìë¥¼ í‘œí˜„í•˜ëŠ” ì†ì„±ê°’ê³¼ ì„¤ëª…ì´ë‹¤. ì˜ëª» ì„¤ëª…ëœ ê²ƒì€ ë¬´ì—‡ì¸ê°€?**

1. ctx.shadowBlur=10; ë„í˜•ì˜ ê·¸ë¦¼ìì— blurring íš¨ê³¼ë¥¼ ì§€ì •í•˜ê³  ìˆ«ìê°€ í´ìˆ˜ë¡ ì§„í•˜ê²Œ ë‚˜íƒ€ë‚œë‹¤.
2. ctx.shadowOffsetX=20; xì¢Œí‘œì˜ 20ì •ë„ì— ìˆ˜í‰ë°©í–¥ìœ¼ë¡œ ê·¸ë¦¼ìê°€ í‘œì‹œëœë‹¤.
3. ctx.shadowOffsetY=20; yì¢Œí‘œì˜ 20ì •ë„ì˜ ìˆ˜ì§ ë°©í–¥ìœ¼ë¡œ ê·¸ë¦¼ìê°€ í‘œì‹œëœë‹¤.
4. ctx.shadowColor="pink"; ê·¸ë¦¼ìì˜ ìƒ‰ìƒì€ í•‘í¬ë¡œ ì§€ì •í•œë‹¤.



**Q2 ìº”ë²„ìŠ¤ì˜ ì´ë¯¸ì§€ ì„¤ëª…ìœ¼ë¡œ ì˜ëª»ëœ ê²ƒì€?**

1. ìº”ë²„ìŠ¤ì—ì„œ ì´ë¯¸ì§€ë¥¼ í‘œí˜„í•˜ëŠ” ê²ƒì€ ìº”ë²„ìŠ¤ì— ì´ë¯¸ì§€ë¥¼ ë‚˜íƒ€ë‚´ëŠ” ê²ƒì„ ë§í•œë‹¤.
2. ìº”ë²„ìŠ¤ì—ì„œëŠ” ì´ë¯¸ì§€ë¥¼ `<img>` ìš”ì†Œë¥¼ ì´ìš©í•´ì„œ ë§µí•‘í•œë‹¤.
3. ìƒì„±ëœ ì´ë¯¸ì§€ëŠ” ì• ë‹ˆë©”ì´ì…˜ì„ ì—°ë™í•˜ëŠ” ë©”ì†Œë“œì— ë”°ë¼ íšŒì „, ëŠ˜ì„ê³¼ ì¤„ì„ ë“± ë‹¤ì–‘í•œ í‘œí˜„ì‹ìœ¼ë¡œ ì‚¬ìš©ëœë‹¤.
4. ì´ë¯¸ì§€ë¥¼ í‘œí˜„í•˜ëŠ” ì†ì„±ìœ¼ë¡œëŠ” ì´ë¯¸ì§€ì˜ ë„“ì´ë¥¼ ì§€ì •í•˜ëŠ” width, ì´ë¯¸ì§€ì˜ ë†’ì´ë¥¼ ì§€ì •í•˜ëŠ” height, ì´ë¯¸ì§€ê°€ ê°€ì§„ í”½ì…€ì„ RGBA ìˆœì„œì¸ ë°°ì—´ë¡œ ê´€ë¦¬ë˜ëŠ” data ì†ì„±ì´ ìˆë‹¤.



**Q3 scale(0.5, 0.5) ë©”ì†Œë“œë¥¼ ì„ ì–¸í•˜ê³  ì´ë¯¸ì§€ë¥¼ ë“œë¡œìš°í•œ ê²½ìš° ì˜¬ë°”ë¥¸ ê²°ê³¼ëŠ” ë¬´ì—‡ì¸ê°€?**

1. ì›ë³¸ ì´ë¯¸ì§€ê°€ ê°€ë¡œ ì„¸ë¡œ ë°©í–¥ìœ¼ë¡œ 50%, 50% ì¶•ì†Œëœ ì´ë¯¸ì§€ê°€ ê·¸ë ¤ì§„ë‹¤.
2. ì›ë³¸ ì´ë¯¸ì§€ê°€ ê°€ë¡œ ì„¸ë¡œ ë°©í–¥ìœ¼ë¡œ 50%, 50% ê¸°ìš¸ê¸°ë¡œ ê·¸ë ¤ì§„ë‹¤.
3. ì›ë³¸ ì´ë¯¸ì§€ê°€ ê°€ë¡œ ì„¸ë¡œ ë°©í–¥ìœ¼ë¡œ 0.5%, 0.5% ì¶•ì†Œëœ ì´ë¯¸ì§€ê°€ ê·¸ë ¤ì§„ë‹¤
4. ì›ë³¸ ì´ë¯¸ì§€ê°€ ê°€ë¡œ ì„¸ë¡œ ë°©í–¥ìœ¼ë¡œ 50%, 50% ì¢Œí‘œê°€ ì´ë™ëœ ìƒíƒœì˜ ì´ë¯¸ì§€ê°€ ê·¸ë ¤ì§„ë‹¤.



\---&#x20;

ìš”ì•½ ì •ë³´ ì˜¤ëŠ˜ í•™ìŠµë‚´ìš©ì„ ë‹¤ì‹œ í•œë²ˆ ì •ë¦¬í•´ ë³´ì„¸ìš”.

#### 1. ìº”ë²„ìŠ¤ì˜ Textì™€ ê·¸ë¦¼ì í‘œí˜„

1. ìº”ë²„ìŠ¤ì˜ Textë€?

* ê¸€ìì˜ í¬ê¸°, ê¸€ê¼´, ì •ë ¬ì„ ì§€ì •í•˜ëŠ” ì†ì„±ê³¼ ì§€ì •ëœ ìƒ‰ìœ¼ë¡œ ê¸€ìë¥¼ ì±„ìš°ê±°ë‚˜ ì™¸ê³¡ì„  ì²˜ë¦¬ ë° ì£¼ì–´ì§„ ë¬¸ìì—´ì˜ í”½ì…€ ë„“ì´ë¥¼ ë°˜í™˜í•˜ëŠ” ë©”ì†Œë“œë“¤ë¡œ êµ¬ì„±ë˜ì–´ ìˆìŒ

| ì†ì„±                                                                             | ê¸°ëŠ¥                                                           |
| ------------------------------------------------------------------------------ | ------------------------------------------------------------ |
| font                                                                           | > í˜„ì¬ì˜ ê¸€ê¼´ ì†ì„±ì„ ì§€ì •                                              |
| textAlign="center \| end \| left \| right \| start"                            | > í…ìŠ¤íŠ¸ì˜ ì •ë ¬ì„ ì§€ì • default : start                                |
| textBaseline="alphabetic \| top \| hanging \| middle \| ideographic \| bottom" | <p>> í…ìŠ¤íŠ¸ê°€ í‘œì‹œë  ë•Œ ì‚¬ìš©ë˜ëŠ” ìˆ˜ì§ BBS ì§€ì •<br>> Default : alphabetic</p> |

| ë©”ì†Œë“œ                         | ê¸°ëŠ¥                                   |
| --------------------------- | ------------------------------------ |
| fillText(text,x,y,maxWidth) | fillStyleì— ì§€ì •ëœ ìƒ‰ì„ í…ìŠ¤íŠ¸ì˜ ë‚´ë¶€ì— ì±„ì›Œ ê·¸ë ¤ëƒ„    |
| (text,x,y,maxWidth)         | ì™¸ê³½ì„  ìƒ‰ì„ strokeStyleì— ì§€ì •ëœ ìƒ‰ìœ¼ë¡œ í…ìŠ¤íŠ¸ë¥¼ ê·¸ë ¤ëƒ„ |
| measureText(text).width     | ì£¼ì–´ì§„ í…ìŠ¤íŠ¸ ë¬¸ìì—´ì˜ í”½ì…€ì˜ ë„“ì´ë¥¼ ë°˜í™˜í•¨             |

#### 2. ì´ë¯¸ì§€ í‘œí˜„



| ë©”ì†Œë“œ                                                                                                                                                                                                                                                                                                                             | ê¸°ëŠ¥                                                                                                                          |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------- |
| drawImage(img,x,y,width,height)                                                                                                                                                                                                                                                                                                 | ì§€ì •ëœ ì´ë¯¸ì§€ë¥¼ x,y ì¢Œí‘œì— í­ê³¼ ë†’ì´ë§Œí¼ ê·¸ë ¤ëƒ„                                                                                                |
| drawImage(img,sx,sy,swidth,sheight,x,y,width height);                                                                                                                                                                                                                                                                           | <p>ì§€ì •ëœ ì´ë¯¸ì§€(img)ì„ x,y ì¢Œí‘œì—ì„œ ì‹œì‘í•´ì„œ width, height ë§Œí¼ì˜ ì´ë¯¸ì§€ë¥¼ ë“œë¡œìš°í•œ ë‹¤ìŒ í´ë¦½í•‘<br>ì‹œì‘í•˜ëŠ” ì¢Œí‘œ sx,syë¥¼ ì¡ê³  swidth, sheight ì˜ì—­ë§Œí¼ í´ë¦½í•‘ í¬ê¸°ë¥¼ ì§€ì •í•¨</p> |
| createImageData(width, height)                                                                                                                                                                                                                                                                                                  | ì§€ì •ëœ í­ê³¼ ë„“ì´ë¡œ ì´ë¯¸ì§€ ë°ì´í„° ê°ì²´ë¥¼ ìƒì„±í•¨                                                                                                  |
| createImageData(imageData)                                                                                                                                                                                                                                                                                                      | <p>ì§€ì •ëœ ì´ë¯¸ì§€ì— ì˜í•´ ì§€ì •ëœ ê°ì²´ì™€ ë™ì¼í•œ í¬ê¸°ë¡œ ìƒˆ ImageData ê°œì²´ë¥¼ ë§Œë“¦<br>(ë‹¨, ì§€ì •ëœ ì´ë¯¸ì§€ ë°ì´í„°ë¥¼ ë³µì‚¬í•˜ì§€ ì•ŠìŒ)</p>                                          |
| <p>getimageData(x,y,width, height)<br>x : ì™¼ìª½ ìƒë‹¨ ëª¨ì„œë¦¬ì˜ x ì¢Œí‘œì—ì„œ ë³µì‚¬ë¥¼ ì‹œì‘<br>y : ì™¼ìª½ ìƒë‹¨ ëª¨ì„œë¦¬ì˜ y ì¢Œí‘œì—ì„œ ë³µì‚¬ë¥¼ ì‹œì‘<br>width : ì§ì‚¬ê°í˜• ì˜ì—­ì˜ í­ë§Œí¼ ë³µì‚¬ë¨<br>height : ì§ì‚¬ê°í˜• ì˜ì—­ì˜ ë†’ì´ë§Œí¼ ë³µì‚¬ë¨</p>                                                                                                                                                                | ìº”ë²„ìŠ¤ì— ì§€ì •ëœ ì‚¬ê°í˜•ì˜ í”½ì…€ ë°ì´í„°ë¥¼ ë³µì‚¬í•´ì„œ ImageData ê°ì²´ë¥¼ ë°˜í™˜í•¨                                                                                |
| <p>putImageData(imgData,X,Y,dirtyX,dirtyY,dirtyWidth,dirtyHeight)<br>imgData : ì›ë³¸ ImageData<br>X : ImageData ê°œì²´ì˜ ì™¼ìª½ ìƒë‹¨ ëª¨ì„œë¦¬ì˜ í”½ì…€ x ì¢Œí‘œ<br>Y : ImageData ê°œì²´ì˜ ì™¼ìª½ ìƒë‹¨ ëª¨ì„œë¦¬ì˜ í”½ì…€ y ì¢Œí‘œ<br>dirtyX : ìº”ë²„ìŠ¤ì— ì´ë¯¸ì§€ë¥¼ ë°°ì¹˜í•˜ëŠ” í”½ì…€ì˜ ê°€ë¡œ(X) ê°’<br>dirtyY : ìº”ë²„ìŠ¤ì— ì´ë¯¸ì§€ë¥¼ ë°°ì¹˜í•˜ëŠ” í”½ì…€ì˜ ìˆ˜ì§(Y) ê°’<br>dirtyWidth : ìº”ë²„ìŠ¤ì— ê·¸ë ¤ë‚¼ ì´ë¯¸ì§€ì˜ í­<br>dirtyHeight : ìº”ë²„ìŠ¤ì— ê·¸ë ¤ë‚¼ ì´ë¯¸ì§€ì˜ ë†’ì´</p> | íŠ¹ì • ImageData ê°œì²´ë¥¼ ë‹¤ë¥¸ ì¢Œí‘œì˜ ìº”ë²„ìŠ¤ì— ì´ë¯¸ì§€ ë°ì´í„°ë¥¼ ê·¸ë ¤ëƒ„                                                                                   |

#### 3. ë™ì ì¸ ì• ë‹ˆë©”ì´ì…˜

| ë©”ì†Œë“œ                               | ê¸°ëŠ¥                               |
| --------------------------------- | -------------------------------- |
| scale( scalewidth, scaleheight )  | ê°ì²´ì´ë¯¸ì§€ì˜ í¬ê¸°ë¥¼ ë³€í™˜ì‹œí‚´                  |
| rotate( angle )                   | ê°ì²´ì´ë¯¸ì§€ì˜ ê°ë„ë¥¼ ë³€í™˜ì‹œí‚´                  |
| translate( x, y )                 | ê°ì²´ì´ë¯¸ì§€ì˜ ìœ„ì¹˜ë¥¼ ë³€í™˜ì‹œí‚´                  |
| transform ( a, b, c, d, e, f )    | ê°ì²´ì´ë¯¸ì§€ì˜ í–‰ë ¬ì„ ë³€í™˜ì‹œí‚´                  |
| setTransform ( a, b, c, d, e, f ) | ì²´ì´ë¯¸ì§€ì˜ ìˆ˜í‰ê³¼ ìˆ˜ì§ìƒíƒœ, ì¦‰ í–‰ë ¬ê°’ì„ ì§€ì •í•  ìˆ˜ ìˆìŒ. |
